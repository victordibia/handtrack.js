{"version":3,"sources":["video/chess.mp4","images sync /^/.//.*/.jpg$","images/0.jpg","images/1.jpg","images/10.jpg","images/11.jpg","images/12.jpg","images/13.jpg","images/14.jpg","images/15.jpg","images/16.jpg","images/17.jpg","images/18.jpg","images/2.jpg","images/3.jpg","images/4.jpg","images/5.jpg","images/6.jpg","images/7.jpg","images/8.jpg","images/9.jpg","images/banner.jpg","images/hand.jpg","video/tea.mp4","video/jenga.mp4","template/Header.jsx","template/Footer.jsx","template/Sidebar.jsx","sections/Demo.jsx","sections/Usage.jsx","sections/gametest.js","sections/About.jsx","sections/detectworker.js","sections/WebWorker.js","sections/Game.jsx","sections/Doodle.jsx","sections/VideoDemo.jsx","template/Main.jsx","serviceWorker.js","index.js"],"names":["module","exports","__webpack_require__","p","map","./0.jpg","./1.jpg","./10.jpg","./11.jpg","./12.jpg","./13.jpg","./14.jpg","./15.jpg","./16.jpg","./17.jpg","./18.jpg","./2.jpg","./3.jpg","./4.jpg","./5.jpg","./6.jpg","./7.jpg","./8.jpg","./9.jpg","./banner.jpg","./hand.jpg","webpackContext","req","id","webpackContextResolve","e","Error","code","keys","Object","resolve","Header","react_default","a","createElement","className","href","Component","Footer","target","Sidebar","src","alt","height","NavLink","exact","to","data-icon","data-size","data-show-count","aria-label","index_es","url","options","size","text","via","Demo","props","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","modelParams","scoreThreshold","flipHorizontal","model","modelLoaded","videoPlayStatus","showHighlight","highlightText","canvas","React","createRef","videoButton","imgHolder","video","media","width","dispose","_this2","current","canvasContext","getContext","drawCenter","handTrack","then","loadedModel","setState","document","getElementsByClassName","click","inputsource","_this3","self","detect","predictions","renderPredictions","window","requestAnimationFrame","runDetection","img","value","setModelParameters","selectedBox","status","console","log","setTimeout","checked","els","i","length","classList","remove","add","getElementById","detectImage","_this4","imageList","Array","from","image","key","onClick","clickImage","bind","require","concat","Demo_Loading","Button","videoButtonClick","flipImageCheck","type","name","htmlFor","val","onChange","updateConfidence","min","max","ref","Loading","data-loading","viewBox","cx","cy","r","Snippet","default_highlight","language","style","agate","windowXRange","paddle","Vec2","accelFactor","Usage","About","rel","d","sections_Usage","xp","worldXRange","pauseGame","playerScore","stopPlanck","setLinearVelocity","resumeGame","setGamex","x","mouseX","srcRange","dstRange","NaN","srcMax","dstMax","convertToRange","lineaVeloctiy","getPosition","isNaN","y","startPlanck","w","h","windowWidth","SPACE_WIDTH","SPACE_HEIGHT","NUM_BEADS","BEAD_RESTITUTION","planck","bounceClip","Audio","enableAudio","testbed","pl","world","World","BEAD","PADDLE","beadFixedDef","density","restitution","userData","points","paddleFixedDef","step","dt","globalTime","m_stepCount","numCharacters","characterBody","createBody","filterCategoryBits","filterMaskBits","position","Math","random","beadWidthFactor","beadColor","fill","stroke","fd","randVal","shape","Circle","createFixture","render","dieTime","CHARACTER_LIFETIME","characterBodies","push","generateBeads","splice","destroyBody","body","wrapNumber","setPosition","wrap","paddleBodies","forEach","item","mapObj","stayPaddle","Map","num","radius","paddlePath","each","Polygon","addPaddle","onkeyup","keyCode","which","on","contact","fixtureA","getFixtureA","fixtureB","getFixtureB","apaddle","bpaddle","getUserData","bead","clip","play","innerHTML","paddleBeadHit","detectworker","addEventListener","data","action","source","postMessage","WebWorker","worker","toString","blob","Blob","Worker","URL","createObjectURL","gamex","Game","canvasWidth","maxNumBoxes","canvasRef","contentHolder","videoCanvasRef","videoInterval","usablecanvasWidth","midval","bbox","runDrawPredictions","context","mediasource","clearRect","save","scale","translate","drawImage","restore","font","beginPath","rect","apply","toConsumableArray","strokeStyle","lineWidth","fillStyle","fillRect","event","clientWidth","maxWidth","usableCanvasHeight","documentElement","clientHeight","getBoundingClientRect","top","setupWorker","scriptLoaded","scriptError","Game_Loading","autoPlay","xpos","nxpos","ypos","nypos","canvasDrag","Doodle","handleChangeComplete","color","doodlecolor","hex","saveddoodles","doodlecounter","DoodleCenter","drawDoodle","lineCap","moveTo","lineTo","closePath","curstate","toDataURL","clientX","clientY","Doodle_Loading","backgroundColor","lib","onChangeComplete","clearButtonClick","onMouseOut","canvasMouseOut","onMouseMove","canvasMouseMove","onMouseUp","canvasMouseUp","onMouseDown","canvasMouseDown","clearAllButtonClick","clickDoodle","videoData","thumbnailurl","index","path","title","sourcetitle","sourcelink","VideoDemo","Line","iouThreshold","selectedVideo","numHands","videoWidth","videoHeight","_this$canvasContext","pause","playbackRate","getAttribute","VideoDemo_Loading","clickVideoThumbnail","muted","ReactGA","initialize","createBrowserHistory","basename","forceRefresh","keyLength","getUserConfirmation","message","callback","confirm","listen","location","set","page","hash","pageview","Main","HashRouter","template_Sidebar","template_Header","Route","component","template_Footer","isLocalhost","Boolean","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","catch","error","ReactDOM","template_Main","process","origin","fetch","response","contentType","headers","get","indexOf","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.94ac58c8.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/chess.183c7237.mp4\";","var map = {\n\t\"./0.jpg\": 382,\n\t\"./1.jpg\": 383,\n\t\"./10.jpg\": 384,\n\t\"./11.jpg\": 385,\n\t\"./12.jpg\": 386,\n\t\"./13.jpg\": 387,\n\t\"./14.jpg\": 388,\n\t\"./15.jpg\": 389,\n\t\"./16.jpg\": 390,\n\t\"./17.jpg\": 391,\n\t\"./18.jpg\": 392,\n\t\"./2.jpg\": 393,\n\t\"./3.jpg\": 394,\n\t\"./4.jpg\": 395,\n\t\"./5.jpg\": 396,\n\t\"./6.jpg\": 397,\n\t\"./7.jpg\": 398,\n\t\"./8.jpg\": 399,\n\t\"./9.jpg\": 400,\n\t\"./banner.jpg\": 401,\n\t\"./hand.jpg\": 402\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) { // check for number or string\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn id;\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 381;","module.exports = __webpack_public_path__ + \"static/media/0.401840ba.jpg\";","module.exports = __webpack_public_path__ + \"static/media/1.71d1d1d3.jpg\";","module.exports = __webpack_public_path__ + \"static/media/10.9621bbbc.jpg\";","module.exports = __webpack_public_path__ + \"static/media/11.c238e436.jpg\";","module.exports = __webpack_public_path__ + \"static/media/12.973b8ab8.jpg\";","module.exports = __webpack_public_path__ + \"static/media/13.728701d2.jpg\";","module.exports = __webpack_public_path__ + \"static/media/14.9ef2f1c4.jpg\";","module.exports = __webpack_public_path__ + \"static/media/15.1f5880d6.jpg\";","module.exports = __webpack_public_path__ + \"static/media/16.401840ba.jpg\";","module.exports = __webpack_public_path__ + \"static/media/17.a7985be4.jpg\";","module.exports = __webpack_public_path__ + \"static/media/18.d3cec801.jpg\";","module.exports = __webpack_public_path__ + \"static/media/2.2de0d22a.jpg\";","module.exports = __webpack_public_path__ + \"static/media/3.0fef6bcf.jpg\";","module.exports = __webpack_public_path__ + \"static/media/4.0d13a8b0.jpg\";","module.exports = __webpack_public_path__ + \"static/media/5.ca8bdcab.jpg\";","module.exports = __webpack_public_path__ + \"static/media/6.41988fc1.jpg\";","module.exports = __webpack_public_path__ + \"static/media/7.00ef4aaf.jpg\";","module.exports = __webpack_public_path__ + \"static/media/8.c04fb220.jpg\";","module.exports = __webpack_public_path__ + \"static/media/9.e641a945.jpg\";","module.exports = __webpack_public_path__ + \"static/media/banner.275e0e05.jpg\";","module.exports = __webpack_public_path__ + \"static/media/hand.f39313f7.jpg\";","module.exports = __webpack_public_path__ + \"static/media/tea.7231125e.mp4\";","module.exports = __webpack_public_path__ + \"static/media/jenga.23bdd218.mp4\";","import React, { Component } from \"react\";\n\nclass Header extends Component {\n    render() {\n        return (\n            <div className=\"headerbox pad20 \">\n                <div className=\"bx--type-mega\">\n                    Handtrack.js\n            </div>\n                <span className=\"lighttext\"> A library for prototyping realtime handtracking in the browser.\n                    [<a href=\"https://github.com/victordibia/handtrack.js/\">Github</a>]</span>\n                <br />\n\n            </div>\n        );\n    }\n}\n\nexport default Header;","import React, { Component } from \"react\";\n\nclass Footer extends Component {\n    render() {\n        return (\n            <div>\n                Made with <span className=\"redcolor\">&#9829;</span> by <a href=\"https://twitter.com/vykthur\" target=\"blank\">Victor\n            Dibia</a>. Designed using  <a href=\"http://carbondesignsystem.com\" target=\"blank\">Carbon Design System.</a>\n            </div>\n        );\n    }\n}\n\nexport default Footer;","import React, { Component } from \"react\";\nimport { TwitterShareButton } from 'react-twitter-embed';\n\nimport {\n    NavLink\n} from \"react-router-dom\";\nclass Sidebar extends Component {\n    render() {\n        return (\n            <div className=\"sidebarcontent\">\n                <div className=\"sidebartitle\">\n                    <span className=\"bx--type-epsilon\"> handtrack.js </span>\n                    <span className=\"lighttext\"> </span>\n                </div>\n                <a href=\"https://badge.fury.io/js/handtrackjs\">\n                    <img src=\"https://badge.fury.io/js/handtrackjs.svg\" alt=\"npm version\" height=\"18\"></img>\n                </a>\n\n\n                <br />\n                <br />\n\n\n                {/* <div className=\"sidebarlinks\">\n                    <NavLink exact to=\"/\">Home</NavLink>\n                </div> */}\n                <div className=\"sidebarlinks\">\n                    <NavLink exact to=\"/\">demo</NavLink>\n                </div>\n                <div className=\"sidebarlinks\">\n                    <NavLink to=\"/doodle\">doodle</NavLink>\n                </div>\n                <div className=\"sidebarlinks\">\n                    <NavLink to=\"/game\"> pong game </NavLink>\n                </div>\n                <div className=\"sidebarlinks\">\n                    <NavLink to=\"/video\">video </NavLink>\n                </div>\n\n                <div className=\"sidebarlinks\">\n                    <NavLink to=\"/about\">about</NavLink>\n                </div>\n\n                <br />\n                <br />\n                <a className=\"github-button\" href=\"https://github.com/victordibia/handtrack.js\" data-icon=\"octicon-star\" data-size=\"large\" data-show-count=\"true\" aria-label=\"Star victordibia/handtrack.js on GitHub\">Star</a>\n                <br />\n                <div className=\"mt10\"></div>\n                <div>\n                    <TwitterShareButton\n                        url={'https://medium.com/@victor.dibia/handtrackjs-677c29c1d585'}\n                        options={{ size: 'large', text: 'Handtrack.js: How to Track Hands in the Browser using Tensorflow.js and 3 lines ofÂ code ', via: 'vykthur' }}\n                    />\n                </div>\n\n\n\n            </div>\n        );\n    }\n}\n\nexport default Sidebar;","import React, { Component } from \"react\";\nimport { Button } from 'carbon-components-react';\nimport * as handTrack from \"handtrackjs\"\n\n\nclass Demo extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            modelParams: {\n                scoreThreshold: 0.7,\n                flipHorizontal: false\n            },\n            model: null,\n            modelLoaded: false,\n            videoPlayStatus: false,\n            showHighlight: false,\n            highlightText: \"Attention needed\"\n        }\n\n        this.canvas = React.createRef();\n        this.videoButton = React.createRef();\n        this.imgHolder = React.createRef();\n        this.video = React.createRef();\n\n        this.media = { width: 507, height: 380 }\n\n        // handTrack.stopVideo()\n\n    }\n    componentWillUnmount() {\n        // console.log(\"Page unmounting disposing model\")\n        this.state.model.dispose()\n        // handTrack.stopVideo()\n    }\n    componentDidMount() {\n        this.video.current.width = this.media.width\n        // this.video.current.height = this.media.height;\n\n        this.canvas.current.width = this.media.width\n        this.canvas.current.height = this.media.height;\n\n        this.canvasContext = this.canvas.current.getContext('2d')\n        this.drawCenter = true\n        // console.log(this.canvas.current)\n        handTrack.load(this.state.modelParams).then(loadedModel => {\n            this.setState({ model: loadedModel })\n            this.setState({ modelLoaded: true })\n            // console.log(\"model loaded\", this.state)\n            document.getElementsByClassName(\"handimagebox\")[0].click()\n        });\n    }\n\n    runDetection(inputsource) {\n        let self = this\n        this.state.model.detect(inputsource).then(predictions => {\n\n            // if (predictions[0]) {\n            //     let midval = predictions[0].bbox[0] + (predictions[0].bbox[2] / 2)\n            //     console.log('Predictions: ', inputsource.width, midval / inputsource.width);\n\n            // }\n            if (this.canvas.current) {\n                this.state.model.renderPredictions(predictions, this.canvas.current, this.canvasContext, inputsource)\n                // console.log(\"FPS\", model.getFPS())\n                // $(\"#fps\").text(\"FPS: \" + model.getFPS())\n                if (this.state.videoPlayStatus && inputsource) {\n                    window.requestAnimationFrame(function () {\n                        self.runDetection(inputsource)\n                    });\n                }\n            }\n\n        });\n    }\n\n    detectImage(img) {\n        this.imgHolder.current.height = this.media.height\n        this.imgHolder.current.width = this.media.width\n        this.imgHolder.current.src = img.src\n        this.runDetection(this.imgHolder.current)\n    }\n\n    updateConfidence(e) {\n\n        let modelParams = this.state.modelParams\n        modelParams.scoreThreshold = e.target.value / 100\n        this.setState({ modelParams })\n\n        this.state.model.setModelParameters(this.state.modelParams)\n        let selectedBox = document.getElementsByClassName(\"handimageselected\")[0]\n        if (!this.state.videoPlayStatus && selectedBox) {\n            selectedBox.click()\n        }\n\n    }\n\n    videoButtonClick(e) {\n        let self = this\n        if (this.state.videoPlayStatus) {\n            this.setState({ videoPlayStatus: false })\n            handTrack.stopVideo()\n        } else {\n            handTrack.startVideo(this.video.current).then(function (status) {\n\n                if (status) {\n                    self.setState({ videoPlayStatus: true })\n                    self.runDetection(self.video.current)\n                } else {\n                    console.log(\"Camera not available\")\n                    self.setState({ highlightText: \"Please enable camera to use video detection\" })\n                    self.setState({ showHighlight: true })\n                    setTimeout(() => {\n                        self.setState({ showHighlight: false })\n                    }, 6000);\n                }\n            })\n\n\n\n        }\n    }\n\n    flipImageCheck(e) {\n        let modelParams = this.state.modelParams\n        modelParams.flipHorizontal = e.target.checked\n        this.setState({ modelParams })\n        this.state.model.setModelParameters(this.state.modelParams)\n        console.log(this.state)\n    }\n\n    clickImage(e) {\n\n        let els = document.getElementsByClassName(\"handimagebox\")\n        for (var i = 0; i < els.length; i++) {\n            els[i].classList.remove('handimageselected');\n        }\n        e.target.classList.add(\"handimageselected\")\n\n        if (this.state.videoPlayStatus) {\n            let self = this\n            let target = e.target\n            document.getElementById(\"videobutton\").click()\n            setTimeout(function () {\n                self.detectImage(target)\n            }, 200)\n        } else {\n            this.detectImage(e.target)\n        }\n\n    }\n\n    render() {\n        let array = Array.from(Array(16).keys());\n\n        let imageList = array.map(image => {\n            return <img key={image} onClick={this.clickImage.bind(this)} src={require(`../images/${image}.jpg`)} alt=\"\" className=\"handimagebox\" />\n        });\n\n        return (\n            <div className=\"\">\n\n                <div className=\"pagetitle\">Demo</div>\n                <br />\n                {this.state.modelLoaded ? null : <Loading />}\n\n                <div className=\"clickable\">\n                    <div className={this.state.modelLoaded ? \"hidden\" : \"disableoverlay\"}></div>\n                    <div className={this.state.showHighlight ? \"orangehighlight mb10\" : \"hidden\"}> {this.state.highlightText}</div>\n                    <div className=\"bluehightlight mb10\">\n                        All detection is done in the browser! <span className=\"lighttext\"> Click on an image or  Start video</span>\n                    </div>\n                    <div>\n                        <Button id=\"videobutton\" onClick={this.videoButtonClick.bind(this)} >  {this.state.videoPlayStatus ? \"â© Stop WebCam Detection\" : \" â¶ ï¸ Start WebCam Detection\"} </Button>\n\n                        <div className=\"bx--form-item bx--checkbox-wrapper  flipimagecheckbox\">\n                            <input onClick={this.flipImageCheck.bind(this)} id=\"flipimagecheckbox\" className=\"bx--checkbox\" type=\"checkbox\" value=\"new\" name=\"checkbox\"></input>\n                            <label htmlFor=\"flipimagecheckbox\" className=\"bx--checkbox-label\"> Flip Image </label>\n                        </div>\n                    </div>\n                    {/* <div className=\"border mb10 bluehightlight\"> hi</div> */}\n                    <div className=\"flex mt10\">\n                        <div className=\"flexfull\">\n                            <div id=\"instruction\" className=\"lighttext pb10 \">\n                                Modify confidence score threshold.\n                            </div>\n                            <div className=\"mt10 flex  mr20 \">\n                                <div className=\"slidecontainer flexfull  \">\n                                    <input type=\"range\" val={this.state.modelParams.scoreThreshold * 100} onChange={this.updateConfidence.bind(this)} min=\"1\" max=\"100\" className=\"slider\" id=\"confidencerange\"></input>\n                                </div>\n                                <div className=\"iblock confidencethreshold \">  {this.state.modelParams.scoreThreshold} </div>\n                            </div>\n                            <div className=\"bluehightlight mb10 lh10 mr20\">\n                                Detection not working as expected? Change the confidence threshold value.\n                               The right threshold may depend on your <span className=\"boldtext\">camera</span>  and <span className=\"boldtext\">lighting</span>   conditions.\n                            </div>\n                            <div className=\"scrollholdbox \">\n                                {imageList}\n                            </div>\n                        </div>\n\n                        <div className=\"flex5 \">\n                            <canvas ref={this.canvas} id=\"canvas\" className=\"canvasbox\"></canvas>\n                        </div>\n                    </div>\n\n                </div>\n\n\n                <div className=\"videoboxes \"></div>\n                <img ref={this.imgHolder} id=\"imgholder\" className=\"imgholder hidden\" src=\"\" alt=\"\"></img>\n                <video ref={this.video} className=\"videobox hidden\" id=\"myvideo\"></video>\n\n            </div >\n\n        );\n    }\n}\n\nclass Loading extends Component {\n    render() {\n        return (\n            <div className=\"mb10\">\n                <div data-loading className=\"iblock bx--loading bx--loading--small\">\n                    <svg className=\"bx--loading__svg\" viewBox=\"-75 -75 150 150\">\n                        <title>Loading</title>\n                        <circle cx=\"0\" cy=\"0\" r=\"37.5\" />\n                    </svg>\n                </div>\n                <div className=\"iblock loadingtitle\"> Loading Handtrack.js model ..</div>\n\n\n            </div>\n        )\n    }\n}\n\n\nexport default Demo;","import React, { Component } from \"react\";\nimport SyntaxHighlighter from 'react-syntax-highlighter';\n// import { zenburn } from 'react-syntax-highlighter/dist/esm/styles/hljs';\nimport { agate } from 'react-syntax-highlighter/dist/esm/styles/hljs';\n\n\n\nlet snippetLoad = `import * as handTrack from 'handtrackjs'; \n\nconst img = document.getElementById('img'); \nconst model ;\n\nhandTrack.load().then(_model => {  \n    // Initial interface after model load.\n    // Store model in global model variable\n    model = _model\n});\n\n`\n\nlet snippetDetect = `import * as handTrack from 'handtrackjs'; \n\nconst img = document.getElementById('img'); \n\nhandTrack.load().then(model => {  \n    // Get predictions\n    model.detect(img).then(predictions => {\n        console.log('Predictions: ', predictions); \n    });\n});\n\n`\n\nlet snippetParameters = `import * as handTrack from 'handtrackjs'; \n\nconst modelParams = {\n    flipHorizontal: true,   // flip e.g for video \n    imageScaleFactor: 0.7,  // reduce input image size for (maybe) gains in speed.\n    maxNumBoxes: 20,        // maximum number of boxes to detect\n    iouThreshold: 0.5,      // ioU threshold for non-max suppression\n    scoreThreshold: 0.79,    // confidence threshold for predictions.\n}\n  \nmodel.setModelParameters(modelParams)\n// let params = model.getModelParameters()\n`\n\n\nlet snippetRenderPredictions = `import * as handTrack from 'handtrackjs'; \n\nconst img = document.getElementById('img'); \nconst canvas = document.getElementById(\"canvas\");\nconst ctx = canvas.getContext(\"2d\");\n\nhandTrack.load().then(model => {  \n    model.detect(img).then(preds => { \n      model.renderPredictions(preds, canvas, ctx, img);\n    });\n});\n`\n\nlet snippetWebcamControl = `import * as handTrack from 'handtrackjs';\n\n// Returns a promise\nhandTrack.startVideo(video).then(function (status) {\n    if (status) {\n        console.log(\"Video started\")\n    } else {\n        console.log(\"Please enable video\")\n    }\n});\n\n// handTrack.stopVideo(); \n`\n\nfunction Snippet(text) {\n    return <SyntaxHighlighter language='javascript' style={agate}>{text}</SyntaxHighlighter>;\n}\n\nclass Usage extends Component {\n    render() {\n        //  \n        return (\n            <div className=\"\">\n                <div className=\"pagetitle mt10\">Usage Examples </div>\n                <br />\n                <div className=\"usageexamples flex\">\n                    <div className=\"flex4 mr10 \">\n                        <div className=\"bluehightlight mb10 boldtext\">\n                            Load Model\n                        </div>\n                        {Snippet(snippetLoad)}\n\n                    </div>\n                    <div className=\"flex4 mr10 \">\n                        <div className=\"bluehightlight mb10 boldtext\">\n                            Get Predictions\n                        </div>\n                        {Snippet(snippetDetect)}\n                    </div>\n                    <div className=\"flex4 mr10 \">\n                        <div className=\"bluehightlight mb10 boldtext\">\n                            Render Predictions\n                        </div>\n                        {Snippet(snippetRenderPredictions)}\n                    </div>\n\n                </div>\n\n                <div className=\"usageexamples flex mt20\">\n                    <div className=\"flex4 mr10 \">\n                        <div className=\"bluehightlight mb10 boldtext\">\n                            WebCam Control\n                        </div>\n                        {Snippet(snippetWebcamControl)}\n\n                    </div>\n                    <div className=\"flex6 mr10 \">\n                        <div className=\"bluehightlight mb10 boldtext\">\n                            Get Model Parameters\n                        </div>\n                        {Snippet(snippetParameters)}\n                    </div>\n                    {/* <div className=\"flex4 mr10 \">\n                        <div className=\"bluehightlight mb10 boldtext\">\n                            WebCam Control\n                        </div>\n                        {Snippet(snippetWebcamControl)}\n\n                    </div> */}\n                </div>\n                <br />\n                <br />\n                <br />\n                <br />\n                <br />\n\n            </div>\n\n\n        );\n    }\n}\n\nexport default Usage;","// var colors = [\"#69d2e7\", \"#a7dbd8\", \"#e0e4cc\", \"#f38630\", \"#fa6900\", \"#fe4365\", \"#fc9d9a\", \"#f9cdad\", \"#c8c8a9\", \"#83af9b\", \"#ecd078\", \"#d95b43\", \"#c02942\", \"#542437\", \"#53777a\", \"#556270\", \"#4ecdc4\", \"#c7f464\", \"#ff6b6b\", \"#c44d58\", \"#774f38\", \"#e08e79\", \"#f1d4af\", \"#ece5ce\", \"#c5e0dc\", \"#e8ddcb\", \"#cdb380\", \"#036564\", \"#033649\", \"#031634\", \"#490a3d\", \"#bd1550\", \"#e97f02\", \"#f8ca00\", \"#8a9b0f\", \"#594f4f\", \"#547980\", \"#45ada8\", \"#9de0ad\", \"#e5fcc2\", \"#00a0b0\", \"#6a4a3c\", \"#cc333f\", \"#eb6841\", \"#edc951\", \"#e94e77\", \"#d68189\", \"#c6a49a\", \"#c6e5d9\", \"#f4ead5\", \"#3fb8af\", \"#7fc7af\", \"#dad8a7\", \"#ff9e9d\", \"#ff3d7f\", \"#d9ceb2\", \"#948c75\", \"#d5ded9\", \"#7a6a53\", \"#99b2b7\", \"#ffffff\", \"#cbe86b\", \"#f2e9e1\", \"#1c140d\", \"#cbe86b\", \"#efffcd\", \"#dce9be\", \"#555152\", \"#2e2633\", \"#99173c\", \"#343838\", \"#005f6b\", \"#008c9e\", \"#00b4cc\", \"#00dffc\", \"#413e4a\", \"#73626e\", \"#b38184\", \"#f0b49e\", \"#f7e4be\", \"#ff4e50\", \"#fc913a\", \"#f9d423\", \"#ede574\", \"#e1f5c4\", \"#99b898\", \"#fecea8\", \"#ff847c\", \"#e84a5f\", \"#2a363b\", \"#655643\", \"#80bca3\", \"#f6f7bd\", \"#e6ac27\", \"#bf4d28\", \"#00a8c6\", \"#40c0cb\", \"#f9f2e7\", \"#aee239\", \"#8fbe00\", \"#351330\", \"#424254\", \"#64908a\", \"#e8caa4\", \"#cc2a41\", \"#554236\", \"#f77825\", \"#d3ce3d\", \"#f1efa5\", \"#60b99a\", \"#ff9900\", \"#424242\", \"#e9e9e9\", \"#bcbcbc\", \"#3299bb\", \"#5d4157\", \"#838689\", \"#a8caba\", \"#cad7b2\", \"#ebe3aa\", \"#8c2318\", \"#5e8c6a\", \"#88a65e\", \"#bfb35a\", \"#f2c45a\", \"#fad089\", \"#ff9c5b\", \"#f5634a\", \"#ed303c\", \"#3b8183\", \"#ff4242\", \"#f4fad2\", \"#d4ee5e\", \"#e1edb9\", \"#f0f2eb\", \"#d1e751\", \"#ffffff\", \"#000000\", \"#4dbce9\", \"#26ade4\", \"#f8b195\", \"#f67280\", \"#c06c84\", \"#6c5b7b\", \"#355c7d\", \"#1b676b\", \"#519548\", \"#88c425\", \"#bef202\", \"#eafde6\", \"#bcbdac\", \"#cfbe27\", \"#f27435\", \"#f02475\", \"#3b2d38\", \"#5e412f\", \"#fcebb6\", \"#78c0a8\", \"#f07818\", \"#f0a830\", \"#452632\", \"#91204d\", \"#e4844a\", \"#e8bf56\", \"#e2f7ce\", \"#eee6ab\", \"#c5bc8e\", \"#696758\", \"#45484b\", \"#36393b\", \"#f0d8a8\", \"#3d1c00\", \"#86b8b1\", \"#f2d694\", \"#fa2a00\", \"#f04155\", \"#ff823a\", \"#f2f26f\", \"#fff7bd\", \"#95cfb7\", \"#2a044a\", \"#0b2e59\", \"#0d6759\", \"#7ab317\", \"#a0c55f\", \"#bbbb88\", \"#ccc68d\", \"#eedd99\", \"#eec290\", \"#eeaa88\", \"#b9d7d9\", \"#668284\", \"#2a2829\", \"#493736\", \"#7b3b3b\", \"#b3cc57\", \"#ecf081\", \"#ffbe40\", \"#ef746f\", \"#ab3e5b\", \"#a3a948\", \"#edb92e\", \"#f85931\", \"#ce1836\", \"#009989\", \"#67917a\", \"#170409\", \"#b8af03\", \"#ccbf82\", \"#e33258\", \"#e8d5b7\", \"#0e2430\", \"#fc3a51\", \"#f5b349\", \"#e8d5b9\", \"#aab3ab\", \"#c4cbb7\", \"#ebefc9\", \"#eee0b7\", \"#e8caaf\", \"#300030\", \"#480048\", \"#601848\", \"#c04848\", \"#f07241\", \"#ab526b\", \"#bca297\", \"#c5ceae\", \"#f0e2a4\", \"#f4ebc3\", \"#607848\", \"#789048\", \"#c0d860\", \"#f0f0d8\", \"#604848\", \"#a8e6ce\", \"#dcedc2\", \"#ffd3b5\", \"#ffaaa6\", \"#ff8c94\", \"#3e4147\", \"#fffedf\", \"#dfba69\", \"#5a2e2e\", \"#2a2c31\", \"#b6d8c0\", \"#c8d9bf\", \"#dadabd\", \"#ecdbbc\", \"#fedcba\", \"#fc354c\", \"#29221f\", \"#13747d\", \"#0abfbc\", \"#fcf7c5\", \"#1c2130\", \"#028f76\", \"#b3e099\", \"#ffeaad\", \"#d14334\", \"#edebe6\", \"#d6e1c7\", \"#94c7b6\", \"#403b33\", \"#d3643b\", \"#cc0c39\", \"#e6781e\", \"#c8cf02\", \"#f8fcc1\", \"#1693a7\", \"#dad6ca\", \"#1bb0ce\", \"#4f8699\", \"#6a5e72\", \"#563444\", \"#a7c5bd\", \"#e5ddcb\", \"#eb7b59\", \"#cf4647\", \"#524656\", \"#fdf1cc\", \"#c6d6b8\", \"#987f69\", \"#e3ad40\", \"#fcd036\", \"#5c323e\", \"#a82743\", \"#e15e32\", \"#c0d23e\", \"#e5f04c\", \"#230f2b\", \"#f21d41\", \"#ebebbc\", \"#bce3c5\", \"#82b3ae\", \"#b9d3b0\", \"#81bda4\", \"#b28774\", \"#f88f79\", \"#f6aa93\", \"#3a111c\", \"#574951\", \"#83988e\", \"#bcdea5\", \"#e6f9bc\", \"#5e3929\", \"#cd8c52\", \"#b7d1a3\", \"#dee8be\", \"#fcf7d3\", \"#1c0113\", \"#6b0103\", \"#a30006\", \"#c21a01\", \"#f03c02\", \"#382f32\", \"#ffeaf2\", \"#fcd9e5\", \"#fbc5d8\", \"#f1396d\", \"#e3dfba\", \"#c8d6bf\", \"#93ccc6\", \"#6cbdb5\", \"#1a1f1e\", \"#000000\", \"#9f111b\", \"#b11623\", \"#292c37\", \"#cccccc\", \"#c1b398\", \"#605951\", \"#fbeec2\", \"#61a6ab\", \"#accec0\", \"#8dccad\", \"#988864\", \"#fea6a2\", \"#f9d6ac\", \"#ffe9af\", \"#f6f6f6\", \"#e8e8e8\", \"#333333\", \"#990100\", \"#b90504\", \"#1b325f\", \"#9cc4e4\", \"#e9f2f9\", \"#3a89c9\", \"#f26c4f\", \"#5e9fa3\", \"#dcd1b4\", \"#fab87f\", \"#f87e7b\", \"#b05574\", \"#951f2b\", \"#f5f4d7\", \"#e0dfb1\", \"#a5a36c\", \"#535233\", \"#413d3d\", \"#040004\", \"#c8ff00\", \"#fa023c\", \"#4b000f\", \"#eff3cd\", \"#b2d5ba\", \"#61ada0\", \"#248f8d\", \"#605063\", \"#2d2d29\", \"#215a6d\", \"#3ca2a2\", \"#92c7a3\", \"#dfece6\", \"#cfffdd\", \"#b4dec1\", \"#5c5863\", \"#a85163\", \"#ff1f4c\", \"#4e395d\", \"#827085\", \"#8ebe94\", \"#ccfc8e\", \"#dc5b3e\", \"#9dc9ac\", \"#fffec7\", \"#f56218\", \"#ff9d2e\", \"#919167\", \"#a1dbb2\", \"#fee5ad\", \"#faca66\", \"#f7a541\", \"#f45d4c\", \"#ffefd3\", \"#fffee4\", \"#d0ecea\", \"#9fd6d2\", \"#8b7a5e\", \"#a8a7a7\", \"#cc527a\", \"#e8175d\", \"#474747\", \"#363636\", \"#ffedbf\", \"#f7803c\", \"#f54828\", \"#2e0d23\", \"#f8e4c1\", \"#f8edd1\", \"#d88a8a\", \"#474843\", \"#9d9d93\", \"#c5cfc6\", \"#f38a8a\", \"#55443d\", \"#a0cab5\", \"#cde9ca\", \"#f1edd0\", \"#4e4d4a\", \"#353432\", \"#94ba65\", \"#2790b0\", \"#2b4e72\", \"#0ca5b0\", \"#4e3f30\", \"#fefeeb\", \"#f8f4e4\", \"#a5b3aa\", \"#a70267\", \"#f10c49\", \"#fb6b41\", \"#f6d86b\", \"#339194\", \"#9d7e79\", \"#ccac95\", \"#9a947c\", \"#748b83\", \"#5b756c\", \"#edf6ee\", \"#d1c089\", \"#b3204d\", \"#412e28\", \"#151101\", \"#046d8b\", \"#309292\", \"#2fb8ac\", \"#93a42a\", \"#ecbe13\", \"#4d3b3b\", \"#de6262\", \"#ffb88c\", \"#ffd0b3\", \"#f5e0d3\", \"#fffbb7\", \"#a6f6af\", \"#66b6ab\", \"#5b7c8d\", \"#4f2958\", \"#ff003c\", \"#ff8a00\", \"#fabe28\", \"#88c100\", \"#00c176\", \"#fcfef5\", \"#e9ffe1\", \"#cdcfb7\", \"#d6e6c3\", \"#fafbe3\", \"#9cddc8\", \"#bfd8ad\", \"#ddd9ab\", \"#f7af63\", \"#633d2e\", \"#30261c\", \"#403831\", \"#36544f\", \"#1f5f61\", \"#0b8185\", \"#d1313d\", \"#e5625c\", \"#f9bf76\", \"#8eb2c5\", \"#615375\", \"#ffe181\", \"#eee9e5\", \"#fad3b2\", \"#ffba7f\", \"#ff9c97\", \"#aaff00\", \"#ffaa00\", \"#ff00aa\", \"#aa00ff\", \"#00aaff\"]\n// var colorindex = 0;\n\nlet xp = {}\nexport default xp\nlet windowXRange, worldXRange = 0\nlet paddle\nlet Vec2\nlet accelFactor\nvar pauseGame = true;\nvar playerScore = 0\nxp.stopPlanck = function () {\n\n}\nxp.pauseGame = function(){\n    pauseGame  = true\n    paddle.setLinearVelocity(Vec2(0, 0))\n}\nxp.resumeGame = function(){\n    pauseGame  = false\n   \n}\nxp.setGamex = function (x) {\n    // gamex = x;\n    let mouseX = convertToRange(x, windowXRange, worldXRange);\n    let lineaVeloctiy = Vec2((mouseX - paddle.getPosition().x) * accelFactor, 0)\n    // paddle.setLinearVelocity(lineaVeloctiy)\n    // paddle.setLinearVelocity(lineaVeloctiy)\n    lineaVeloctiy.x =  isNaN(lineaVeloctiy.x) ? 0: lineaVeloctiy.x\n    paddle.setLinearVelocity(lineaVeloctiy)\n    console.log(\"linear velocity\", lineaVeloctiy.x, lineaVeloctiy.y)\n}\n\nxp.startPlanck = function (w,h) {\n\n    // TestBed Details\n    let windowHeight = h\n    let windowWidth = w * 0.9\n\n    var element = document.getElementById(\"stage\")\n    // var rect = element.getBoundingClientRect(); \n\n    \n\n    var scale_factor = 11\n    var SPACE_WIDTH = w / scale_factor;\n    var SPACE_HEIGHT = h / scale_factor;\n\n    // console.log(\"space width and ehight\", SPACE_WIDTH, SPACE_HEIGHT, windowWidth);\n\n\n    // Bead/Ball Details\n    var NUM_BEADS = 5\n    var BEAD_RESTITUTION = 0.7\n\n    // Paddle Details\n    accelFactor = 0.042 * SPACE_WIDTH; // how fast the paddle accelerates when mouse or other controls are moved.\n\n\n\n    let planck = window.planck\n    // var paddleMap = new Map();\n    // var maxNumberPaddles = 10;\n    // let windowWidth = 500\n\n    var bounceClip = new Audio('http://victordibia.com/skyfall/bounce.wav');\n    bounceClip.type = 'audio/wav';\n    var enableAudio = false;\n    \n    // var pauseGameAnimationDuration = 500;\n\n    // $(\"input#sound\").click(function () {\n    //     enableAudio = $(this).is(':checked')\n    //     soundtext = enableAudio ? \"sound on\" : \"sound off\";\n    //     $(\".soundofftext\").text(soundtext)\n    // });\n\n    planck.testbed(function (testbed) {\n        var pl = planck;\n        Vec2 = pl.Vec2;\n\n        var world = pl.World(Vec2(0, -30));\n        var BEAD = 4\n        var PADDLE = 5\n\n\n        var beadFixedDef = {\n            density: 1.0,\n            restitution: BEAD_RESTITUTION,\n            userData: {\n                name: \"bead\",\n                points: 3\n            }\n        };\n        var paddleFixedDef = {\n            // density : 1.0,\n            // restitution : BEAD_RESTITUTION,\n            userData: {\n                name: \"paddle\"\n            }\n        };\n\n        // var self;\n\n        testbed.step = tick;\n        testbed.width = SPACE_WIDTH;\n        testbed.height = SPACE_HEIGHT;\n\n        // var playerScore = 0;\n        windowXRange = [0, windowWidth]\n        worldXRange = [-(SPACE_WIDTH / 2), SPACE_WIDTH / 2]\n\n\n        var characterBodies = [];\n        var paddleBodies = new Map();\n\n        var globalTime = 0;\n        var CHARACTER_LIFETIME = 6000\n\n        start()\n\n        // $(function () {\n        //     console.log(\"ready!\");\n        //     scoreDiv = document.createElement('div');\n        //     $(scoreDiv).addClass(\"classname\")\n        //         .text(\"bingo\")\n        //         .appendTo($(\"body\")) //main div\n        // });\n\n        function start() {\n            addUI()\n        }\n\n\n\n        // // Remove paddles that are no longer in frame.\n        // function refreshMap(currentMap) {\n        //     paddleBodies.forEach(function (item, key, mapObj) {\n        //         if (!currentMap.has(key)) {\n        //             world.destroyBody(paddleBodies.get(key).paddle);\n        //             paddleBodies.delete(key)\n        //         }\n        //     });\n        // }\n\n        world.on('pre-solve', function (contact) {\n\n            var fixtureA = contact.getFixtureA();\n            var fixtureB = contact.getFixtureB();\n\n            // var bodyA = contact.getFixtureA().getBody();\n            // var bodyB = contact.getFixtureB().getBody();\n\n            let apaddle = false\n            let bpaddle = false\n            if (fixtureA.getUserData()) {\n                apaddle = fixtureA.getUserData().name = paddleFixedDef.userData.name;\n            }\n\n            if (fixtureB.getUserData()) {\n                bpaddle = fixtureB.getUserData().name = paddleFixedDef.userData.name;\n            }\n            if (apaddle || bpaddle) {\n                // Paddle collided with something\n                var paddle = apaddle ? fixtureA : fixtureB;\n                var bead = !apaddle ? fixtureA : fixtureB;\n\n                // console.log(paddle, bead);\n\n                setTimeout(function () {\n                    paddleBeadHit(paddle, bead);\n                }, 1);\n            }\n\n        })\n\n        function paddleBeadHit(paddle, bead) {\n            // console.log(\"attempting stroke change\", bead.getUserData());\n            //console.log(\"bead points \",bead.getUserData().points);\n            playClip(bounceClip)\n            updateScoreBox(bead.getUserData().points);\n\n        }\n\n        function playClip(clip) {\n            if (enableAudio) {\n                clip.play()\n            }\n        }\n\n        function updateScoreBox(points) {\n            if (!pauseGame) {\n                playerScore += points*1 ;\n                document.getElementsByClassName(\"scorevalue\")[0].innerHTML = playerScore\n                // console.log(points)\n                // $(\".scorevalue\").text(playerScore)\n                // pointsAdded = points > 0 ? \"+\" + points : points\n                // $(\".scoreadded\").text(pointsAdded)\n                // $(\".scoreadded\").show().animate({\n                //     opacity: 0,\n                //     fontSize: \"4vw\",\n                //     color: \"#ff8800\"\n                // }, 500, function () {\n                //     $(this).css({\n                //         fontSize: \"2vw\",\n                //         opacity: 1\n                //     }).hide()\n                // });\n            }\n        }\n\n        function pauseGamePlay() {\n            pauseGame = !pauseGame\n            // if (pauseGame) {\n            //     paddle.setLinearVelocity(Vec2(0, 0))\n            //     $(\".pauseoverlay\").show()\n            //     $(\".overlaycenter\").animate({\n            //         opacity: 1,\n            //         fontSize: \"4vw\"\n            //     }, pauseGameAnimationDuration, function () { });\n            // } else {\n            //     paddle.setLinearVelocity(Vec2(3, 0))\n\n            //     $(\".overlaycenter\").animate({\n            //         opacity: 0,\n            //         fontSize: \"0vw\"\n            //     }, pauseGameAnimationDuration, function () {\n            //         $(\".pauseoverlay\").hide()\n            //     });\n            // }\n\n        }\n\n\n        // process mouse move and touch events\n        function mouseMoveHandler(event) {\n            if (!pauseGame) {\n                // let mouseX = convertToRange(event.clientX, windowXRange, worldXRange);\n                // if (!isNaN(mouseX)) {\n                //     let lineaVeloctiy = Vec2((mouseX - paddle.getPosition().x) * accelFactor, 0)\n                //     paddle.setLinearVelocity(lineaVeloctiy)\n                //     // xdiff = mouseX - paddle.getPosition().x > 0 ? 100 : -100\n                //     // paddle.setPosition(Vec2(mouseX,0))\n                // }\n            } else {\n\n            }\n        }\n\n        function addUI() {\n            addPaddle()\n\n            let canvas = document.getElementById(\"stage\")\n            // canvas.addEventListener(\"mousemove\", function (e) {\n            //     e.preventDefault()\n            //     var touch\n            //     if (e.type === \"touchmove\") {\n            //         touch = e.originalEvent.touches[0] || e.originalEvent.changedTouches[0];\n            //     } else if (e.type === \"touchstart\") {\n            //         touch = e.targetTouches[0]\n            //     } else if (e.type === \"mousemove\") {\n            //         touch = e\n            //     }\n            //     mouseMoveHandler(touch)\n            // });\n\n            // $(document).bind('touchmove touchstart mousemove', function (e) {\n            //     e.preventDefault();\n            //     var touch\n            //     if (e.type == \"touchmove\") {\n            //         touch = e.originalEvent.touches[0] || e.originalEvent.changedTouches[0];\n            //     } else if (e.type == \"touchstart\") {\n            //         touch = e.targetTouches[0]\n            //     } else if (e.type == \"mousemove\") {\n            //         touch = e\n            //     }\n            //     mouseMoveHandler(touch)\n            // });\n            // Add keypress event listener to pause game\n            document.onkeyup = function (e) {\n                var key = e.keyCode ? e.keyCode : e.which;\n                if (key === 32) {\n                    console.log(\"spacebar pressed\")\n                    pauseGamePlay()\n                }\n                if (key === 83) {\n                    // $(\"input#sound\").click()\n                }\n            }\n\n            // var ground = world.createBody();\n            // var groundY = -(0.3 * SPACE_HEIGHT)\n            // ground.createFixture(pl.Edge(Vec2(-(0.95 * SPACE_WIDTH / 2), groundY), Vec2((0.95 * SPACE_WIDTH / 2), groundY)), 0.0);\n        }\n\n        function addPaddle() {\n            paddle = world.createBody({\n                type: \"kinematic\",\n                filterCategoryBits: PADDLE,\n                filterMaskBits: BEAD,\n                position: Vec2(-(0.4 * SPACE_WIDTH / 2), -(0.25 * SPACE_HEIGHT))\n            })\n            let paddleLines = [\n                [1.8, -0.1],\n                [1.8, 0.1],\n                [1.2, 0.4],\n                [0.4, 0.6],\n                [-2.4, 0.6],\n                [-3.2, 0.4],\n                [-3.8, 0.1],\n                [-3.8, -0.1]\n            ]\n\n            let radius = SPACE_WIDTH * 0.021,\n                paddlePath = []\n\n            paddleLines.forEach(function (each) {\n                paddlePath.push(Vec2(radius * each[0], radius * each[1]))\n            })\n\n            paddle.createFixture(pl.Polygon(paddlePath), paddleFixedDef)\n            paddle.render = {\n                fill: '#ff8800',\n                stroke: '#000000'\n            }\n        }\n\n        // Generate Beeds falling from sky\n        function generateBeads(numCharacters) {\n\n            for (var i = 0; i < numCharacters; ++i) {\n                var characterBody = world.createBody({\n                    type: 'dynamic',\n                    filterCategoryBits: BEAD,\n                    filterMaskBits: PADDLE,\n                    position: Vec2(pl.Math.random(-(SPACE_WIDTH / 2), (SPACE_WIDTH / 2)), pl.Math.random((0.5 * SPACE_HEIGHT), 0.9 * SPACE_HEIGHT))\n                });\n\n\n                var beadWidthFactor = 0.004\n                var beadColor = {\n                    fill: '#fff',\n                    stroke: '#000000'\n                };\n\n                var fd = {\n                    density: beadFixedDef.density,\n                    restitution: BEAD_RESTITUTION,\n                    userData: {\n                        name: beadFixedDef.userData.name,\n                        points: 3\n                    }\n                };\n\n                var randVal = Math.random();\n\n                if (randVal > 0.8) {\n                    //   green ball, + 20\n                    beadColor.fill = '#32CD32'\n                    beadWidthFactor = 0.0049;\n                    fd.userData.points = 20;\n                } else if (randVal < 0.2) {\n                    //  Red Ball, - 10\n                    beadWidthFactor = 0.004;\n                    beadColor.fill = '#ff0000';\n                    fd.userData.points = -10;\n                } else {\n                    // White ball +10\n                    beadColor.fill = '#fff';\n                    beadWidthFactor = 0.004;\n                    fd.userData.points = 10;\n                }\n\n\n                var shape = pl.Circle(SPACE_WIDTH * beadWidthFactor);\n                characterBody.createFixture(shape, fd);\n\n                characterBody.render = beadColor;\n\n                characterBody.dieTime = globalTime + CHARACTER_LIFETIME;\n\n                characterBodies.push(characterBody);\n            }\n\n        }\n\n        function tick(dt) {\n\n            \n\n            globalTime += dt;\n            if (world.m_stepCount % 80 === 0) {\n                // console.log(\"inner tikcoo\", gamex)\n                if (!pauseGame) {\n                    generateBeads(NUM_BEADS);\n                    //console.log(\"car size\", characterBodies.length);\n                    for (var i = 0; i !== characterBodies.length; i++) {\n                        var characterBody = characterBodies[i];\n                        //If the character is old, delete it\n                        if (characterBody.dieTime <= globalTime) {\n                            characterBodies.splice(i, 1);\n                            world.destroyBody(characterBody);\n                            i--;\n                            continue;\n                        }\n\n                    }\n                }\n            }\n            // wrap(box)\n            wrap(paddle);\n            paddleBodies.forEach(function (item, key, mapObj) {\n                stayPaddle(item.paddle);\n            });\n\n\n        }\n\n        function stayPaddle(paddle) {\n            var p = paddle.getPosition()\n\n            if (p.x < -SPACE_WIDTH / 2) {\n                p.x = -SPACE_WIDTH / 2\n                paddle.setPosition(p)\n            } else if (p.x > SPACE_WIDTH / 2) {\n                p.x = SPACE_WIDTH / 2\n                paddle.setPosition(p)\n            }\n        }\n\n        // Returns a random number between -0.5 and 0.5\n        // function rand(value) {\n        //     return (Math.random() - 0.5) * (value || 1);\n        // }\n\n        // If the body is out of space bounds, wrap it to the other side\n        function wrap(body) {\n            var p = body.getPosition();\n            p.x = wrapNumber(p.x, -SPACE_WIDTH / 2, SPACE_WIDTH / 2);\n            p.y = wrapNumber(p.y, -SPACE_HEIGHT / 2, SPACE_HEIGHT / 2);\n            body.setPosition(p);\n        }\n\n\n        function wrapNumber(num, min, max) {\n            if (typeof min === 'undefined') {\n                max = 1;\n                min = 0;\n            } else if (typeof max === 'undefined') {\n                max = min;\n                min = 0;\n            }\n            if (max > min) {\n                num = (num - min) % (max - min);\n                return num + (num < 0 ? max : min);\n            } else {\n                num = (num - max) % (min - max);\n                return num + (num <= 0 ? min : max);\n            }\n        }\n\n        // rest of your code\n        return world; // make sure you return the world\n    });\n\n\n\n}\n\nfunction convertToRange(value, srcRange, dstRange) {\n    // value is outside source range return\n    if (value < srcRange[0] || value > srcRange[1]) {\n        return NaN;\n    }\n\n    var srcMax = srcRange[1] - srcRange[0],\n        dstMax = dstRange[1] - dstRange[0],\n        adjValue = value - srcRange[0];\n\n    return (adjValue * dstMax / srcMax) + dstRange[0];\n\n}","import React, { Component } from \"react\";\nimport Usage from \"./Usage\"\n// import ReactMarkdown from \"react-markdown\"\n\n// import worker from './detectworker';\n// import WebWorker from './WebWorker';\n\nclass About extends Component {\n    componentDidMount(){\n        // this.worker = new WebWorker(worker);\n        // this.testworker()\n    }\n\n    // testworker(){\n    //     let msg = {\"action\": \"detect\", \"model\": \"model\", \"source\": \"source\"}\n    //     this.worker.postMessage(msg);\n\n\t// \tthis.worker.addEventListener('message', event => {\n\t// \t\tconsole.log(event.data)\n\t// \t});\n    // }\n\n    render() {\n        //  \n        return (\n            <div className=\"\">\n                <div className=\"pagetitle\">About Handtrack.js</div>\n                <br />\n                <div>\n                    <div className=\"bluehightlight mb10\">\n                        Handtrack.js lets you track hand position in an image or video element, right in the browser.\n                    </div>\n                    <div className=\"lh10\">\n                    Underneath, it uses trained Convoluntional Neural Network model (SSD, MobilenetV2 Architecture).\n                    <br/>\n                    Details on how the model was trained can be found  <a rel=\"noopener noreferrer\" href=\"https://medium.com/@victor.dibia/how-to-build-a-real-time-hand-detector-using-neural-networks-ssd-on-tensorflow-d6bac0e4b2ce\" target=\"_blank\">here</a> .\n              \n                    </div>\n                </div>\n\n                {/* <ReactMarkdown source={input}></ReactMarkdown> */}\n                <br/>\n                <div>\n                <a className=\"mr10\" href=\"https://github.com/victordibia/handtrack.js/\" target=\"blank\">\n                    <button className=\"bx--btn bx--btn--primary\" type=\"button\">\n                    GitHub\n                    <svg className=\"bx--btn__icon\" width='24' height='20' viewBox='0 0 24 20' >\n                        <path d='M15.7 9.7L22 3.4V8h2V0h-8v2h4.6l-6.3 6.3z'></path>\n                        <path d='M22 18H2V4h10V0H0v20h24v-8h-2z'></path>\n                    </svg>\n                    </button>\n                </a>\n\n                <a href=\"https://medium.com/@victor.dibia/handtrackjs-677c29c1d585\" target=\"blank\">\n                    <button className=\"bx--btn bx--btn--primary\" type=\"button\">\n                    Blog Post\n                    {/* <svg className=\"bx--btn__icon\" width='24' height='24' viewBox='0 0 24 24' >\n                        <path d='M19 9.4l-1.2-1.1L13 13V0h-2v13L6.2 8.3 5 9.4l7 6.6z'></path>\n                        <path d='M22 14v6H2v-6H0v10h24V14z'></path>\n                    </svg> */}\n                    <svg className=\"bx--btn__icon\" width='24' height='20' viewBox='0 0 24 20' >\n                        <path d='M15.7 9.7L22 3.4V8h2V0h-8v2h4.6l-6.3 6.3z'></path>\n                        <path d='M22 18H2V4h10V0H0v20h24v-8h-2z'></path>\n                    </svg>\n                    </button>\n                </a>\n                </div>\n                <br/>\n                <Usage />\n\n\n            </div>\n\n        );\n    }\n}\n\nexport default About;","// import * as handTrack from \"handtrackjs\"\n\n// let modelParams = {\n//     scoreThreshold: 0.7,\n//     flipHorizontal: true,\n//     maxNumBoxes: 1\n// }\n// let model\n// handTrack.load(modelParams).then(loadedModel => {\n//     model = loadedModel\n//     console.log(\"model loaded ....\")\n// });\n\nexport default () => {\n    self.addEventListener('message', e => { // eslint-disable-line no-restricted-globals\n        if (!e) return;\n        let data = e.data;\n        console.log(data.model)\n        if (data.action == \"detect\") {\n            data.model.detect(data.source).then(predictions => {\n                postMessage(predictions);\n            })\n\n        }\n    })\n}","export default class WebWorker {\n    constructor(worker) {\n        const code = worker.toString();\n        const blob = new Blob(['('+code+')()']);\n        return new Worker(URL.createObjectURL(blob));\n    }\n}","import React, { Component } from \"react\";\nimport { Button } from 'carbon-components-react';\n// import Script from 'react-load-script'\nimport xp from \"./gametest\"\nimport * as handTrack from \"handtrackjs\"\n\nimport worker from './detectworker';\nimport WebWorker from './WebWorker';\n\nlet gamex = 0\n\nclass Loading extends Component {\n    render() {\n        return (\n            <div className=\"mb10\">\n                <div data-loading className=\"iblock bx--loading bx--loading--small\">\n                    <svg className=\"bx--loading__svg\" viewBox=\"-75 -75 150 150\">\n                        <title>Loading</title>\n                        <circle cx=\"0\" cy=\"0\" r=\"37.5\" />\n                    </svg>\n                </div>\n                <div className=\"iblock loadingtitle\"> Loading Handtrack.js model ..</div>\n\n\n            </div>\n        )\n    }\n}\n\nclass Game extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            canvasWidth: \"200\",\n            modelParams: {\n                scoreThreshold: 0.5,\n                flipHorizontal: true,\n                maxNumBoxes: 1\n            },\n            model: null,\n            modelLoaded: false,\n            videoPlayStatus: false,\n            showHighlight: false,\n            highlightText: \"Attention needed\"\n        }\n\n        this.canvasRef = React.createRef();\n        this.contentHolder = React.createRef();\n        this.video = React.createRef();\n        this.videoCanvasRef = React.createRef();\n        this.videoInterval = 100;\n        this.usablecanvasWidth = 500\n        // console.log(window.$)\n\n    }\n    runDetection(inputsource) {\n        let self = this\n        this.state.model.detect(inputsource).then(predictions => {\n            if (predictions[0]) {\n                let midval = predictions[0].bbox[0] + (predictions[0].bbox[2] / 2)\n                gamex = this.usablecanvasWidth * (midval / inputsource.width)\n                xp.setGamex(gamex)\n                // console.log('Predictions: ', this.usablecanvasWidth, midval / inputsource.width);\n\n            }\n\n            // if (this.canvas.current) {\n            //     this.state.model.renderPredictions(predictions, this.canvas.current, this.canvas.current.getContext('2d'), inputsource)\n            //     // console.log(\"FPS\", model.getFPS())\n            //     // $(\"#fps\").text(\"FPS: \" + model.getFPS())\n            if (this.videoCanvasRef.current) {\n                this.runDrawPredictions(predictions, this.videoCanvasRef.current, this.videoCanvasRef.current.getContext('2d'), inputsource)\n                // this.state.model.renderPredictions(predictions, this.videoCanvasRef.current, this.videoCanvasRef.current.getContext('2d'), inputsource)\n            }\n            if (this.state.videoPlayStatus && inputsource) {\n                // window.requestAnimationFrame(function () {\n                setTimeout(() => {\n                    self.runDetection(inputsource)\n                }, this.videoInterval);\n            }\n\n        });\n    }\n\n    runDrawPredictions(predictions, canvas, context, mediasource) {\n        context.clearRect(0, 0, canvas.width, canvas.height);\n        canvas.width = mediasource.width;\n        canvas.height = mediasource.height;\n        // console.log(\"render\", mediasource.width, mediasource.height)\n\n        context.save();\n        if (this.state.modelParams.flipHorizontal) {\n        context.scale(-1, 1);\n        context.translate(-mediasource.width, 0);\n        }\n        context.drawImage(mediasource, 0, 0, mediasource.width, mediasource.height);\n        context.restore();\n        context.font = '10px Arial';\n\n        // console.log('number of detections: ', predictions.length);\n        for (let i = 0; i < predictions.length; i++) {\n        context.beginPath();\n        // context.fillStyle = \"rgba(255, 255, 255, 0.6)\";\n        // context.fillRect(predictions[i].bbox[0], predictions[i].bbox[1] - 17, predictions[i].bbox[2], 17)\n        context.rect(...predictions[i].bbox);\n\n        // draw a dot at the center of bounding box\n\n\n        context.strokeStyle = '#39ff14';\n        context.lineWidth = 4;\n        context.fillStyle = \"#0063FF\" // \"rgba(244,247,251,1)\";\n        context.fillRect(predictions[i].bbox[0] + (predictions[i].bbox[2] / 2), predictions[i].bbox[1] + (predictions[i].bbox[3] / 2), 5, 5)\n\n        context.stroke();\n         \n        }\n \n    }\n\n    setupWorker(){\n\n        this.worker.addEventListener('message', event => {\n\t\t\tconsole.log(\"worker response \",event.data)\n        });\n\n        // let msg = {\"action\": \"detect\", \"model\": this.state.model, \"source\": \"\"}\n        // this.worker.postMessage(msg);\n \n    }\n\n    componentDidMount() {\n        this.worker = new WebWorker(worker);\n        this.canvasContext = this.videoCanvasRef.current.getContext('2d')\n        \n        //    console.log(\"Doc height\", document.documentElement.clientHeight, window.innerWidth, this.canvasRef.current.getBoundingClientRect().top)\n\n        let usablecanvasWidth = document.body.clientWidth - 250\n        this.canvasRef.current.style.width = usablecanvasWidth + \"px\";\n        this.canvasRef.current.style.maxWidth = usablecanvasWidth + \"px\";\n        // this.canvasRef.current.width = usablecanvasWidth;\n        this.usablecanvasWidth = usablecanvasWidth\n\n        let usableCanvasHeight = document.documentElement.clientHeight - this.canvasRef.current.getBoundingClientRect().top + 10\n        this.canvasRef.current.style.height = usableCanvasHeight + \"px\"\n        // this.canvasRef.current.height = usableCanvasHeight;\n\n        console.log(\"Usable h,w\", usableCanvasHeight, usablecanvasWidth)\n\n        handTrack.load(this.state.modelParams).then(loadedModel => {\n            this.setState({ model: loadedModel })\n            this.setState({ modelLoaded: true })\n            // console.log(\"model loaded\", this.state)\n            // document.getElementsByClassName(\"handimagebox\")[0].click()\n            setTimeout(() => {\n                this.setupWorker()\n            }, 2000);\n        });\n        xp.startPlanck(usablecanvasWidth, usableCanvasHeight)\n\n    }\n\n\n\n    updateConfidence(e) {\n\n        let modelParams = this.state.modelParams\n        modelParams.scoreThreshold = e.target.value / 100\n        this.setState({ modelParams })\n\n        this.state.model.setModelParameters(this.state.modelParams)\n        let selectedBox = document.getElementsByClassName(\"handimageselected\")[0]\n        if (!this.state.videoPlayStatus && selectedBox) {\n            selectedBox.click()\n        }\n\n    }\n\n\n    componentWillUnmount() {\n        console.log(\"Page unmounting disposing model\")\n        this.state.model.dispose()\n    }\n\n    videoButtonClick(e) {\n        let self = this\n        if (this.state.videoPlayStatus) {\n            this.setState({ videoPlayStatus: false })\n            handTrack.stopVideo()\n            xp.pauseGame()\n        } else {\n            handTrack.startVideo(this.video.current).then(function (status) {\n                console.log(\"Camera status\", status)\n                if (status) {\n                    self.setState({ videoPlayStatus: true })\n                    self.runDetection(self.video.current)\n                    xp.resumeGame()\n                } else {\n                    console.log(\"Camera not available\")\n                    self.setState({ highlightText: \"Please enable camera to use video detection\" })\n                    self.setState({ showHighlight: true })\n                    setTimeout(() => {\n                        self.setState({ showHighlight: false })\n                    }, 6000);\n                }\n            })\n        }\n    }\n\n    handleScriptCreate() {\n        this.setState({ scriptLoaded: false })\n    }\n\n    handleScriptError() {\n        this.setState({ scriptError: true })\n    }\n\n    handleScriptLoad() {\n        this.setState({ scriptLoaded: true })\n\n\n        // setTimeout(() => {\n        //     xp.stopPlanck()\n        //     console.log(\"stopped planck\")\n        // }, 2000);\n    }\n\n    resizeCanvas(e) {\n        console.log(e.target.width)\n    }\n    render() {\n        return (\n            <div className=\"\">\n\n                <div ref={this.contentHolder} className=\"pagetitle\">Game Demo</div>\n                <br />\n                {this.state.modelLoaded ? null : <Loading />}\n                <div className={this.state.showHighlight ? \"orangehighlight mb10\" : \"hidden\"}> {this.state.highlightText}</div>\n\n                <div className=\"clickable\">\n                    <div className={this.state.modelLoaded ? \"hidden\" : \"disableoverlay\"}></div>\n\n                    <div className=\"bluehightlight mb10 lh10\">\n                        Control the pong game paddle by waving your hands in front of the camera. Click start video to begin.\n                    </div>\n                    <Button className=\"mb10\" id=\"videobutton\" onClick={this.videoButtonClick.bind(this)} >  {this.state.videoPlayStatus ? \"â© Stop Video Control\" : \" â¶ ï¸ Start Video Control\"} </Button>\n                    <div className=\"flexfull \">\n                        <div id=\"instruction\" className=\"lighttext mt10\">Modify confidence score threshold.</div>\n                        <div className=\"mt10 flex\">\n                            <div className=\"slidecontainer flexfull \">\n                                <input type=\"range\" val={this.state.modelParams.scoreThreshold * 100} onChange={this.updateConfidence.bind(this)} min=\"1\" max=\"100\" className=\"slider\" id=\"confidencerange\"></input>\n                            </div>\n                            <div className=\"iblock confidencethreshold \">  {this.state.modelParams.scoreThreshold} </div>\n                        </div>\n                    </div>\n                    <div className=\"relative\">\n                    \n                    \n                        <canvas ref={this.canvasRef} className=\"gamecanvas\" id=\"stage\" ></canvas>\n                        <canvas className=\"videocanvasoutput\" ref={this.videoCanvasRef} id=\"videocanvas\"></canvas>\n\n                        <div className=\"infordisplay \">\n                            <div className=\"toprow\">\n                            <img src=\"http://victordibia.com/skyfall/icon.png\" className=\"icon  floatleft \" />\n                            <div className=\"scorebox  iblock \">\n                                <div className=\"scorevalue inscore\"> 0 </div>\n                                <div className=\"scorelabel inscore\"> pts </div>\n                                <div className=\"scoreadded inscore\"> </div>\n                            </div>\n                            <div className=\"clear\"></div>\n                            </div>\n\n\n                            {/* <div className=\"settingsswitches\">\n                            <div className=\" \">\n                                <div className=\"iblock floatleft\">\n                                <label className=\"switch\">\n                                    <input type=\"checkbox\" id=\"sound\"></input>\n                                    <span className=\"slider round\"></span>\n                                </label>\n                                </div>\n                                <div className=\"  iblock soundofftext\"> sound off</div>\n                                <div className=\"clear\"></div>\n                            </div>\n\n                            </div> */}\n\n                            {/* <div className=\"pausetext\">\n                            <div>Sound (s) </div>\n                            <div>Pause (space bar) </div>\n\n\n                            </div> */}\n\n\n                        </div>\n                    \n                    </div>\n                    \n                </div>\n\n                {/* <Script\n                    url=\"https://cdn.jsdelivr.net/npm/planck-js@0.3.3/dist/planck-with-testbed.js\"\n                    onCreate={this.handleScriptCreate.bind(this)}\n                    onError={this.handleScriptError.bind(this)}\n                    onLoad={this.handleScriptLoad.bind(this)}\n                /> */}\n                <video ref={this.video} className=\"videobox hidden\" autoPlay=\"autoplay\" id=\"myvideo\"></video>\n\n\n            </div>\n\n\n        );\n    }\n}\n\nexport default Game;","import React, { Component } from \"react\";\nimport { Button } from 'carbon-components-react';\nimport { ChromePicker } from 'react-color'\nimport * as handTrack from \"handtrackjs\"\n\nlet xpos = 0;\nlet nxpos = 0\nlet ypos = 0;\nlet nypos = 0;\nlet canvasDrag = false;\n\n\nclass Doodle extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            modelParams: {\n                scoreThreshold: 0.9,\n                flipHorizontal: true,\n                maxNumBoxes: 1\n            },\n            model: null,\n            modelLoaded: false,\n            videoPlayStatus: false,\n            showHighlight: false,\n            highlightText: \"Attention needed\",\n            doodlecolor: \"#1780DC\",\n            saveddoodles: []\n        }\n\n        this.canvas = React.createRef();\n        this.videoButton = React.createRef();\n        this.imgHolder = React.createRef();\n        this.video = React.createRef();\n\n        this.media = { width: 507, height: 380 }\n\n        this.doodlecounter = 0\n\n    }\n    componentWillUnmount() {\n        // console.log(\"Page unmounting disposing model\")\n        // handTrack.stopVideo();\n        this.state.model.dispose();\n\n    }\n\n    handleChangeComplete = (color) => {\n        this.setState({ doodlecolor: color.hex });\n    };\n\n    componentDidMount() {\n        this.video.current.width = this.media.width\n        this.video.current.height = this.media.height;\n\n        this.canvas.current.width = this.media.width\n        this.canvas.current.height = this.media.height;\n\n\n        xpos = nxpos = this.media.width / 2\n        ypos = nypos = this.media.height / 2\n\n        this.canvasContext = this.canvas.current.getContext('2d')\n        this.DoodleCenter = true\n\n        handTrack.load(this.state.modelParams).then(loadedModel => {\n            this.setState({ model: loadedModel })\n            this.setState({ modelLoaded: true })\n            // console.log(\"model loaded\", this.state)\n            // document.getElementsByClassName(\"handimagebox\")[0].click()\n            this.setState({ modelLoaded: true })\n        });\n        // this.setState({ modelLoaded: true })\n    }\n\n    runDetection(inputsource) {\n        let self = this\n        this.state.model.detect(inputsource).then(predictions => {\n\n            // if (predictions[0]) {\n            //     let midval = predictions[0].bbox[0] + (predictions[0].bbox[2] / 2)\n            //     console.log('Predictions: ', inputsource.width, midval / inputsource.width);\n\n            // }\n            if (this.canvas.current) {\n                this.runDrawPredictions(predictions)\n                // console.log(\"FPS\", model.getFPS())\n                // $(\"#fps\").text(\"FPS: \" + model.getFPS())\n                if (this.state.videoPlayStatus && inputsource) {\n                    window.requestAnimationFrame(function () {\n                        self.runDetection(inputsource)\n                    });\n                }\n            }\n\n        });\n    }\n\n    runDrawPredictions(predictions) {\n        // context.clearRect(0, 0, canvas.width, canvas.height);\n\n\n        this.canvasContext.save();\n        if (this.state.modelParams.flipHorizontal) {\n            this.canvasContext.scale(-1, 1);\n            this.canvasContext.translate(-this.media.width, 0);\n        }\n        // this.canvasContext.drawImage(mediasource, 0, 0, mediasource.width, mediasource.height);\n        this.canvasContext.restore();\n        // this.canvasContext.font = '10px Arial';\n\n        // console.log('number of detections: ', predictions.length);\n        for (let i = 0; i < predictions.length; i++) {\n            xpos = nxpos;\n            ypos = nypos;\n            nxpos = predictions[i].bbox[0] + (predictions[i].bbox[2] / 2);\n            nypos = predictions[i].bbox[1] + (predictions[i].bbox[3] / 2)\n            this.drawDoodle()\n\n        }\n\n\n    }\n\n    drawDoodle() {\n        this.canvasContext.beginPath(); // begin\n        this.canvasContext.lineWidth = 5;\n        this.canvasContext.lineCap = 'round';\n        this.canvasContext.strokeStyle = this.state.doodlecolor;\n        this.canvasContext.moveTo(xpos, ypos); // from\n\n        this.canvasContext.lineTo(nxpos, nypos); // to\n        this.canvasContext.stroke(); // draw it!\n        this.canvasContext.closePath();\n\n    }\n\n    detectImage(img) {\n        this.imgHolder.current.height = 380\n        this.imgHolder.current.src = img.src\n        this.runDetection(this.imgHolder.current)\n    }\n\n    updateConfidence(e) {\n\n        let modelParams = this.state.modelParams\n        modelParams.scoreThreshold = e.target.value / 100\n        this.setState({ modelParams })\n\n        this.state.model.setModelParameters(this.state.modelParams)\n        let selectedBox = document.getElementsByClassName(\"handimageselected\")[0]\n        if (!this.state.videoPlayStatus && selectedBox) {\n            selectedBox.click()\n        }\n\n    }\n\n    videoButtonClick(e) {\n        let self = this\n        if (this.state.videoPlayStatus) {\n            this.setState({ videoPlayStatus: false })\n            handTrack.stopVideo()\n        } else {\n            this.canvasContext.clearRect(0, 0, this.canvas.current.width, this.canvas.current.height);\n            handTrack.startVideo(this.video.current).then(function (status) {\n\n                if (status) {\n                    self.setState({ videoPlayStatus: true })\n                    self.runDetection(self.video.current)\n                } else {\n                    console.log(\"Camera not available\")\n                    self.setState({ highlightText: \"Please enable camera to use video detection\" })\n                    self.setState({ showHighlight: true })\n                    setTimeout(() => {\n                        self.setState({ showHighlight: false })\n                    }, 6000);\n                }\n            })\n\n\n\n        }\n    }\n\n    clearButtonClick(e) {\n        this.doodlecounter++\n        let curstate = this.state.saveddoodles\n        curstate.push({ id: \"doodle\" + this.doodlecounter, url: this.canvas.current.toDataURL() })\n        this.setState(curstate)\n\n        this.canvasContext.clearRect(0, 0, this.canvas.current.width, this.canvas.current.height);\n\n    }\n    clearAllButtonClick(e) {\n        this.setState({ saveddoodles: [] })\n    }\n\n\n    flipImageCheck(e) {\n        let modelParams = this.state.modelParams\n        modelParams.flipHorizontal = e.target.checked\n        this.setState({ modelParams })\n        this.state.model.setModelParameters(this.state.modelParams)\n        console.log(this.state)\n    }\n\n    clickDoodle(e) {\n\n    }\n\n    clickImage(e) {\n\n        let els = document.getElementsByClassName(\"handimagebox\")\n        for (var i = 0; i < els.length; i++) {\n            els[i].classList.remove('handimageselected');\n        }\n        e.target.classList.add(\"handimageselected\")\n\n        if (this.state.videoPlayStatus) {\n            let self = this\n            let target = e.target\n            document.getElementById(\"videobutton\").click()\n            setTimeout(function () {\n                self.detectImage(target)\n            }, 200)\n        } else {\n            this.detectImage(e.target)\n        }\n\n    }\n\n    canvasMouseDown(e) {\n        canvasDrag = true\n\n\n    }\n    canvasMouseUp() {\n        canvasDrag = false\n    }\n    canvasMouseMove(e) {\n        if (canvasDrag) {\n            // console.log(\"dragging\")\n\n            xpos = nxpos;\n            ypos = nypos;\n            nxpos = e.clientX - this.media.width + 40;\n            nypos = e.clientY - this.media.height + 70;\n\n            // console.log(\"dragging\", nxpos, nypos, xpos, ypos)\n            this.drawDoodle()\n\n        }\n    }\n    canvasMouseOut() {\n        canvasDrag = false\n    }\n\n    render() {\n\n\n        return (\n            <div className=\"\">\n\n                <div className=\"pagetitle\">Doodle</div>\n                <br />\n                {this.state.modelLoaded ? null : <Loading />}\n\n                <div className=\"clickable \">\n                    <div className={this.state.modelLoaded ? \"hidden\" : \"disableoverlay\"}></div>\n                    <div className={this.state.showHighlight ? \"orangehighlight mb10\" : \"hidden\"}> {this.state.highlightText}</div>\n                    <div className=\"bluehightlight mb10 lh10\">\n                        Draw interesting doodles by waving your hand in front of the camera. All detection is done in the browser! <span className=\"lighttext\"> </span>\n\n                    </div>\n                    <div>\n                        <Button id=\"videobutton\" onClick={this.videoButtonClick.bind(this)} >  {this.state.videoPlayStatus ? \"â© Stop Video Doodle\" : \" â¶ ï¸ Start Video Doodle\"} </Button>\n\n                        <div className=\"bx--form-item bx--checkbox-wrapper  flipimagecheckbox\">\n                            <input onClick={this.flipImageCheck.bind(this)} id=\"flipimagecheckbox\" className=\"bx--checkbox\" type=\"checkbox\" value=\"new\" name=\"checkbox\"></input>\n                            <label htmlFor=\"flipimagecheckbox\" className=\"bx--checkbox-label\"> Flip Image </label>\n                        </div>\n                    </div>\n\n                    <div className=\"flex mt10\">\n                        <div className=\"flex2 mr20  \">\n                            <div className=\"boldtext mb10\"> Select Doodle Color </div>\n                            <div style={{ backgroundColor: this.state.doodlecolor }} className=\"doodlecolor mb10 rad3\"></div>\n                            <ChromePicker\n                                color={this.state.doodlecolor}\n                                onChangeComplete={this.handleChangeComplete}\n                            />\n                            <Button className=\"mt10 width100\" id=\"clearbutton\" onClick={this.clearButtonClick.bind(this)} > Clear Doodle </Button>\n\n\n                        </div>\n\n                        <div className=\"flex2 relative\">\n\n                            <div className=\"relative\">\n                                <video ref={this.video} className=\"videobox videoflip\" id=\"myvideo\"></video>\n                                <canvas onMouseOut={this.canvasMouseOut.bind(this)} onMouseMove={this.canvasMouseMove.bind(this)} onMouseUp={this.canvasMouseUp.bind(this)} onMouseDown={this.canvasMouseDown.bind(this)} ref={this.canvas} id=\"canvas\" className=\"canvasbox absolute top left \"></canvas>\n\n                            </div>\n                        </div>\n                        <div className=\"flexfull ml10\" >\n                            <div className=\"flexfull \">\n                                <div id=\"instruction\" className=\"lighttext mt10\">Modify confidence score threshold.</div>\n                                <div className=\"mt10 flex\">\n                                    <div className=\"slidecontainer flexfull \">\n                                        <input type=\"range\" val={this.state.modelParams.scoreThreshold * 100} onChange={this.updateConfidence.bind(this)} min=\"1\" max=\"100\" className=\"slider\" id=\"confidencerange\"></input>\n                                    </div>\n                                    <div className=\"iblock confidencethreshold \">  {this.state.modelParams.scoreThreshold} </div>\n                                </div>\n                            </div>\n                            {/* <div className=\"boldtext mb10\"> Click to Share Doodle </div> */}\n                            {this.state.saveddoodles.length > 0 && <Button className=\"mb10 width100\" id=\"clearAllbutton\" onClick={this.clearAllButtonClick.bind(this)} >  Clear All Doodles </Button>}\n                            {this.state.saveddoodles.length === 0 && (\n                                <div className=\"bluehightlight mb10 lh10 mr20\">\n                                    Detection not working as expected? Change the confidence threshold value.\n                               The right threshold may depend on your <span className=\"boldtext\">camera</span>  and <span className=\"boldtext\">lighting</span>   conditions.\n                                </div>\n                            )}\n\n\n                            <div id=\"saveddoodlebox\" >\n                                {this.state.saveddoodles.map(item => (\n                                    <img key={item.id} onClick={this.clickDoodle.bind(this)} src={item.url} alt=\"\" className=\"doodleimage mr10 mb10 rad3 floatleft\" />\n                                ))}\n                            </div>\n\n                        </div>\n                    </div>\n\n                </div>\n\n\n                <div className=\"videoboxes \"></div>\n                <img ref={this.imgHolder} id=\"imgholder\" className=\"imgholder hidden\" src=\"\" alt=\"\"></img>\n\n\n            </div >\n\n        );\n    }\n}\n\nclass Loading extends Component {\n    render() {\n        return (\n            <div className=\"mb10\">\n                <div data-loading className=\"iblock bx--loading bx--loading--small\">\n                    <svg className=\"bx--loading__svg\" viewBox=\"-75 -75 150 150\">\n                        <title>Loading</title>\n                        <circle cx=\"0\" cy=\"0\" r=\"37.5\" />\n                    </svg>\n                </div>\n                <div className=\"iblock loadingtitle\"> Loading Handtrack.js model ..</div>\n\n\n            </div>\n        )\n    }\n}\n\n\nexport default Doodle;","import React, { Component } from \"react\";\nimport { Button } from 'carbon-components-react';\nimport * as handTrack from \"handtrackjs\"\n\n\nlet videoData = [\n    { \"thumbnailurl\": \"https://img.youtube.com/vi/rqjVhmiCGk8/mqdefault.jpg\", index: 0, id: \"teavideo\", \"path\": require(\"../video/tea.mp4\"), \"title\": \"Tea making\", \"sourcetitle\": \"Making a Cup of Tea - Hands Doing Stuff\", \"sourcelink\": \"https://www.youtube.com/watch?v=rqjVhmiCGk8\" },\n    { \"thumbnailurl\": \"https://img.youtube.com/vi/AIhR7eAAvMM/mqdefault.jpg\", index: 1, id: \"jengavideo\", \"path\": require(\"../video/jenga.mp4\"), \"title\": \"Jenga play\", \"sourcetitle\": \"Playing Jenga Game - Hands Doing Stuff\", \"sourcelink\": \"https://www.youtube.com/watch?v=AIhR7eAAvMM\" },\n    { \"thumbnailurl\": \"https://img.youtube.com/vi/PrLTjCghrfM/mqdefault.jpg\", index: 2, id: \"chessvideo\", \"path\": require(\"../video/chess.mp4\"), \"title\": \"Chess play\", \"sourcetitle\": \"Principles of Attacking & Defending | Chess\", \"sourcelink\": \"https://www.youtube.com/watch?v=PrLTjCghrfM\" },\n    // {\"thumbnailurl\":\"https://img.youtube.com/vi/08rpqW2Z9Vw/mqdefault.jpg\",index: 1, id:\"golfvideo\", \"path\": require(\"../video/golf.mp4\"), \"title\": \"Golf Swing\", \"sourcetitle\": \"Luke Donald - slow motion golf swing\", \"sourcelink\": \"https://www.youtube.com/watch?v=08rpqW2Z9Vw\"},\n\n]\n\nlet videoTrackInterval = 300\nlet videoPlayRate = 1\n\nvar LineChart = require(\"react-chartjs\").Line;\n\n\nvar chartOptions = {\n\tbezierCurve: false\n}\n\nlet ii = 0\n\n\n\n\nclass VideoDemo extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            modelParams: {\n                scoreThreshold: 0.6,\n                flipHorizontal: false,\n                maxNumBoxes: 20,\n                iouThreshold: 0.5,\n            },\n            model: null,\n            modelLoaded: false,\n            videoPlayStatus: false,\n            showHighlight: false,\n            highlightText: \"Attention needed\",\n            doodlecolor: \"#1780DC\",\n            saveddoodles: [],\n            selectedVideo: videoData[0],\n            numHands: 0 ,\n        }\n\n        this.canvas = React.createRef();\n        this.videoButton = React.createRef();\n        this.imgHolder = React.createRef();\n        this.video = React.createRef();\n\n        this.media = { width: 507, height: 380 }\n\n        this.doodlecounter = 0\n\n        // this.chartData = {\n        //     labels: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\"],\n        //     datasets: [\n        //         {\n        //             label: \"My First dataset\",\n        //             fillColor: \"rgba(220,220,220,0.2)\",\n        //             strokeColor: \"rgba(220,220,220,1)\",\n        //             pointColor: \"rgba(220,220,220,1)\",\n        //             pointStrokeColor: \"#fff\",\n        //             pointHighlightFill: \"#fff\",\n        //             pointHighlightStroke: \"rgba(220,220,220,1)\",\n        //             data: []\n        //         },\n        //         {\n        //             label: \"My Second dataset\",\n        //             fillColor: \"rgba(151,187,205,0.2)\",\n        //             strokeColor: \"rgba(151,187,205,1)\",\n        //             pointColor: \"rgba(151,187,205,1)\",\n        //             pointStrokeColor: \"#fff\",\n        //             pointHighlightFill: \"#fff\",\n        //             pointHighlightStroke: \"rgba(151,187,205,1)\",\n        //             data: [28, 48, 40, 19, 86, 27, 90]\n        //         }\n        //     ]\n        // };\n\n        // setInterval(() => {\n        //     this.chartData.labels.push(ii)\n        //     this.chartData.datasets[0].data.push( Math.random() * 5)\n        //     ii++\n        //     console.log(this.chartData.labels)\n        // }, 5000);\n\n    }\n    componentWillUnmount() {\n        // this.state.model.dispose();\n\n    }\n\n    videoEnded(e) {\n        console.log(\"video ended\")\n    }\n\n\n    componentDidMount() {\n        let self = this\n\n        this.video.current.width = this.media.width\n        this.canvas = document.getElementById(\"canvas\")\n\n        this.video.current.addEventListener(\"loadedmetadata\", function (e) {\n            var width = this.videoWidth,\n                height = this.videoHeight;\n            // console.log(width, height, (this.videoHeight / this.videoWidth  ) * self.media.width )\n            self.canvas.height = (this.videoHeight / this.videoWidth) * self.media.width;\n            self.video.current.height = (this.videoHeight / this.videoWidth) * self.media.width + 3;\n\n        }, false);\n\n\n\n        // this.video.current.addEventListener( \"play\", function (e) {\n        //     console.log(\"video playing\")\n        //     self.setState({ videoPlayStatus: true })\n        // }, false ); \n\n        // this.video.current.addEventListener( \"play\", function (e) {\n        //     console.log(\"video playing\")\n        //     self.setState({ videoPlayStatus: true })\n        // }, false ); \n\n        // this.video.current.addEventListener( \"pause\", function (e) {\n        //     console.log(\"video paused\")\n        //     self.setState({ videoPlayStatus: false })\n        // }, false ); \n\n        // this.video.current.addEventListener( \"ended\", function (e) {\n        //     console.log(\"video ended\")\n        //     self.setState({ videoPlayStatus: false })\n        // }, false ); \n\n        // ['pause', 'ended'].forEach(function(e) {\n        //     self.video.current.addEventListener(e, self.videoEnded(), false);\n        // });\n\n\n\n\n        // this.video.current.src = require(`../video/golf.mp4`)\n\n        this.canvas.width = this.media.width\n        // this.canvas.height = this.media.height;\n\n        this.canvasContext = this.canvas.getContext('2d')\n        this.DoodleCenter = true\n\n        this.canvasContext.strokeStyle = '#39ff14';\n        this.canvasContext.fillStyle = \"#39ff14\" // \"rgba(244,247,251,1)\";\n\n        handTrack.load(this.state.modelParams).then(loadedModel => {\n            this.setState({ model: loadedModel })\n            this.setState({ modelLoaded: true })\n            // console.log(\"model loaded\", this.state)\n            // document.getElementsByClassName(\"handimagebox\")[0].click()\n            this.setState({ modelLoaded: true })\n        });\n        // this.setState({ modelLoaded: true })\n        document.getElementsByClassName(\"handimagebox\")[0].click()\n    }\n\n    runDetection(inputsource) {\n        let self = this\n        this.state.model.detect(inputsource).then(predictions => {\n\n            // if (predictions[0]) {\n            //     let midval = predictions[0].bbox[0] + (predictions[0].bbox[2] / 2)\n            //     console.log('Predictions: ', inputsource.width, midval / inputsource.width);\n\n            // }\n            console.log(\"predictions\", predictions.length)\n            if (this.canvas) {\n                this.runDrawPredictions(predictions)\n                // console.log(\"FPS\", model.getFPS())\n                // $(\"#fps\").text(\"FPS: \" + model.getFPS())\n                if (this.state.videoPlayStatus && inputsource) {\n                    this.setState({numHands: predictions.length})\n                    window.requestAnimationFrame(function () {\n                        self.runDetection(inputsource)\n                        \n                    });\n\n                }\n            }\n\n        });\n    }\n\n    runDrawPredictions(predictions) {\n        // context  =  this.canvas.getContext('2d')\n        this.canvasContext.clearRect(0, 0, this.canvas.width, this.canvas.height);\n\n        // console.log('number of detections: ', predictions.length);\n        this.canvasContext.strokeStyle = '#39ff14';\n        this.canvasContext.lineWidth = 2;\n        this.canvasContext.beginPath()\n        for (let i = 0; i < predictions.length; i++) {\n\n            this.canvasContext.rect(...predictions[i].bbox);\n            this.canvasContext.stroke();\n        }\n    }\n\n\n    detectImage(img) {\n        this.imgHolder.current.height = 380\n        this.imgHolder.current.src = img.src\n        this.runDetection(this.video.current)\n    }\n\n    updateConfidence(e) {\n\n        let modelParams = this.state.modelParams\n        modelParams.scoreThreshold = e.target.value / 100\n        this.setState({ modelParams })\n\n        this.state.model.setModelParameters(this.state.modelParams)\n        // let selectedBox = document.getElementsByClassName(\"handimageselected\")[0]\n        // if (!this.state.videoPlayStatus && selectedBox) {\n        //     selectedBox.click()\n        // }\n        this.runDetection(this.video.current)\n\n    }\n\n    videoButtonClick(e) {\n        let self = this\n        if (this.state.videoPlayStatus) {\n            this.setState({ videoPlayStatus: false })\n            this.video.current.pause();\n        } else {\n            this.video.current.playbackRate = videoPlayRate;\n            this.video.current.play();\n            self.runDetection(self.video.current)\n            this.setState({ videoPlayStatus: true })\n        }\n    }\n\n\n    flipImageCheck(e) {\n        let modelParams = this.state.modelParams\n        modelParams.flipHorizontal = e.target.checked\n        this.setState({ modelParams })\n        this.state.model.setModelParameters(this.state.modelParams)\n        console.log(this.state)\n    }\n\n    clickVideoThumbnail(e) {\n        this.setState({ videoPlayStatus: false })\n        let els = document.getElementsByClassName(\"handimagebox\")\n        for (var i = 0; i < els.length; i++) {\n            els[i].classList.remove('handimageselected');\n        }\n        e.target.classList.add(\"handimageselected\")\n        this.setState({ selectedVideo: videoData[e.target.getAttribute(\"index\")] })\n\n        // console.log(videoData[e.target.getAttribute(\"index\")].path);\n        this.video.current.src = videoData[e.target.getAttribute(\"index\")].path\n\n        // if (this.state.videoPlayStatus) {\n        //     let self = this\n        //     let target = e.target\n        //     document.getElementById(\"videobutton\").click()\n        //     setTimeout(function () {\n        //         self.detectImage(target)\n        //     }, 200)\n        // } else {\n        //     this.detectImage(e.target)\n        // }\n\n\n    }\n\n\n    render() {\n\n        return (\n            <div className=\"\">\n\n                <div className=\"pagetitle\">Gesticulator</div>\n                <br />\n                {this.state.modelLoaded ? null : <Loading />}\n\n                <div className=\"clickable \">\n                    <div className={this.state.modelLoaded ? \"hidden\" : \"disableoverlay\"}></div>\n                    <div className={this.state.showHighlight ? \"orangehighlight mb10\" : \"hidden\"}> {this.state.highlightText}</div>\n                    {!this.state.videoPlayStatus && (\n                        <div className=\"bluehightlight mb10 lh10\">\n                            Generate a count of hands in video frames. <span className=\"lighttext\"> </span>\n                        </div>\n                    )}\n                    \n                    {/* <div className=\"flex border mb10\">\n                        <div className=\"flex5\">\n                            <LineChart data={this.chartData} options={chartOptions} width=\"600\" height=\"250\"/>\n                        </div>\n                        <div className=\"flex5\">\n                            Chart 2\n                        </div>\n\n                    </div> */}\n\n                    {/* <div>\n                        \n                        <div className=\"bx--form-item bx--checkbox-wrapper  flipimagecheckbox\">\n                            <input onClick={this.flipImageCheck.bind(this)} id=\"flipimagecheckbox\" className=\"bx--checkbox\" type=\"checkbox\" value=\"new\" name=\"checkbox\"></input>\n                            <label htmlFor=\"flipimagecheckbox\" className=\"bx--checkbox-label\"> Flip Image </label>\n                        </div>\n                    </div> */}\n\n                    <div className=\"boldtext\"> Hands Detected in Video: {this.state.numHands} </div>\n\n                    <div className=\"flex mt10\">\n\n                        <div className=\"flexfull mr20\" >\n                            <div className=\"flexfull \">\n                                <div id=\"instruction\" className=\"lighttext mt10\">Modify confidence score threshold.</div>\n                                <div className=\"mt10 flex\">\n                                    <div className=\"slidecontainer flexfull \">\n                                        <input type=\"range\" val={this.state.modelParams.scoreThreshold * 100} onChange={this.updateConfidence.bind(this)} min=\"1\" max=\"100\" className=\"slider\" id=\"confidencerange\"></input>\n                                    </div>\n                                    <div className=\"iblock confidencethreshold \">  {this.state.modelParams.scoreThreshold} </div>\n                                </div>\n                            </div>\n                            {/* <div className=\"boldtext mb10\"> Click to Share Doodle </div> */}\n                            <div className=\"bluehightlight mb10 lh10 \">\n                                Detection not working as expected? Change the confidence threshold value.\n                               The right threshold may depend on your <span className=\"boldtext\">camera</span>  and <span className=\"boldtext\">lighting</span>   conditions.\n                            </div>\n\n                            <div className=\"videothumbnailbox\">\n                                {videoData.map(item => (\n                                    <div key={\"itembox\" + item.id} className=\"iblock\">\n                                        <img index={item.index} id={item.id} key={item.id} onClick={this.clickVideoThumbnail.bind(this)} src={item.thumbnailurl} alt=\"\" className=\"handimagebox fitcover\" />\n                                        <div className=\"lighttext smalltext\"> {item.title} </div>\n                                    </div>\n                                ))}\n                            </div>\n\n                        </div>\n\n                        <div className=\"flex2 relative\">\n\n                            <div className=\"relative\">\n                                <video src={require(`../video/chess.mp4`)} ref={this.video} className=\"canvasbox\" id=\"myvideo\" muted></video>\n                                <canvas id=\"canvas\" className=\" absolute top left clickthru\"></canvas>\n\n                                <Button className=\"mt10\" id=\"videobutton\" onClick={this.videoButtonClick.bind(this)} >  {this.state.videoPlayStatus ? \"â© Stop Video \" : \" â¶ ï¸ Play Video \"} </Button>\n\n                                <div className=\"mt10 bx--type-zeta\"> {this.state.selectedVideo.sourcetitle}</div>\n                                <div className=\"smalltext\"> Source: <a rel=\"noopener noreferrer\" target=\"_blank\" href={this.state.selectedVideo.sourcetitle}> {this.state.selectedVideo.sourcetitle}</a>  </div>\n                            </div>\n                        </div>\n                    </div>\n\n                </div>\n\n\n                <div className=\"videoboxes \"></div>\n                <img ref={this.imgHolder} id=\"imgholder\" className=\"imgholder hidden\" src=\"\" alt=\"\"></img>\n\n\n            </div >\n\n        );\n    }\n}\n\nclass Loading extends Component {\n    render() {\n        return (\n            <div className=\"mb10\">\n                <div data-loading className=\"iblock bx--loading bx--loading--small\">\n                    <svg className=\"bx--loading__svg\" viewBox=\"-75 -75 150 150\">\n                        <title>Loading</title>\n                        <circle cx=\"0\" cy=\"0\" r=\"37.5\" />\n                    </svg>\n                </div>\n                <div className=\"iblock loadingtitle\"> Loading Handtrack.js model ..</div>\n\n\n            </div>\n        )\n    }\n}\n\n\nexport default VideoDemo;","import React, { Component } from \"react\";\nimport ReactGA from 'react-ga'\nimport createBrowserHistory from 'history/createBrowserHistory'\nimport {\n    Route,\n    HashRouter\n} from \"react-router-dom\";\n\nimport Header from \"./Header\";\nimport Footer from \"./Footer\";\nimport Sidebar from \"./Sidebar\";\n\nimport Demo from \"../sections/Demo\"\nimport About from \"../sections/About\"\nimport Game from \"../sections/Game\"\nimport Doodle from \"../sections/Doodle\"\nimport VideoDemo from \"../sections/VideoDemo\"\n\n\nReactGA.initialize(\"UA-131578973-1\")\nconst history = createBrowserHistory({\n    basename: \"\", // The base URL of the app (see below)\n    forceRefresh: false, // Set true to force full page refreshes\n    keyLength: 6, // The length of location.key\n    // A function to use to confirm navigation with the user (see below)\n    getUserConfirmation: (message, callback) => callback(window.confirm(message))\n});\nhistory.listen(location => {\n    ReactGA.set({ page: location.hash })\n    ReactGA.pageview(location.hash)\n    // console.log(location.pathname, location.hash)\n})\n\nclass Main extends Component {\n\n    componentDidMount() {\n        ReactGA.pageview(window.location.hash)\n    }\n\n    render() {\n        return (\n            <HashRouter>\n                <div className=\"containerwrap\">\n                    <div className=\"aside sidebar\">\n                        <div id=\"sidebar\"> <Sidebar /> </div>\n                    </div>\n                    <div className=\"aside maincontent\">\n                        <div id=\"header\">\n                            <Header />\n                        </div>\n\n                        <div className=\"pagecontent bottomcontent pad20\">\n                            <Route exact path=\"/\" component={Demo} />\n                            <Route path=\"/about\" component={About} />\n                            <Route path=\"/demo\" component={Demo} />\n                            <Route path=\"/game\" component={Game} />\n                            <Route path=\"/doodle\" component={Doodle} />\n                            <Route path=\"/video\" component={VideoDemo} />\n                        </div>\n\n                        <div id=\"footer\"> <Footer /> </div>\n                    </div>\n                </div>\n            </HashRouter>\n\n        );\n    }\n}\n\nexport default Main;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport Main from \"./template/Main\";\n// import { css } from 'carbon-components-react';\nimport * as serviceWorker from './serviceWorker';\n\nimport \"./template/template.css\"\nimport \"./sections/handtrack.css\"\n\nReactDOM.render(\n    <Main />,\n    document.getElementById(\"root\")\n);\n\nserviceWorker.register()"],"sourceRoot":""}