{"id":"node_modules/parse-asn1/fixProc.js","dependencies":[{"name":"/Users/victordibia/projects/deephandjs/package.json","includedInParent":true,"mtime":1549218872050},{"name":"/Users/victordibia/projects/deephandjs/node_modules/parse-asn1/package.json","includedInParent":true,"mtime":1547577562814},{"name":"evp_bytestokey","loc":{"line":5,"column":18},"parent":"/Users/victordibia/projects/deephandjs/node_modules/parse-asn1/fixProc.js","resolved":"/Users/victordibia/projects/deephandjs/node_modules/evp_bytestokey/index.js"},{"name":"browserify-aes","loc":{"line":6,"column":22},"parent":"/Users/victordibia/projects/deephandjs/node_modules/parse-asn1/fixProc.js","resolved":"/Users/victordibia/projects/deephandjs/node_modules/browserify-aes/browser.js"},{"name":"buffer","parent":"/Users/victordibia/projects/deephandjs/node_modules/parse-asn1/fixProc.js","resolved":"/Users/victordibia/projects/deephandjs/node_modules/buffer/index.js"}],"generated":{"js":"var Buffer = require(\"buffer\").Buffer;\n// adapted from https://github.com/apatil/pemstrip\nvar findProc = /Proc-Type: 4,ENCRYPTED[\\n\\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\\n\\r]+([0-9A-z\\n\\r\\+\\/\\=]+)[\\n\\r]+/m\nvar startRegex = /^-----BEGIN ((?:.* KEY)|CERTIFICATE)-----/m\nvar fullRegex = /^-----BEGIN ((?:.* KEY)|CERTIFICATE)-----([0-9A-z\\n\\r\\+\\/\\=]+)-----END \\1-----$/m\nvar evp = require('evp_bytestokey')\nvar ciphers = require('browserify-aes')\nmodule.exports = function (okey, password) {\n  var key = okey.toString()\n  var match = key.match(findProc)\n  var decrypted\n  if (!match) {\n    var match2 = key.match(fullRegex)\n    decrypted = new Buffer(match2[2].replace(/[\\r\\n]/g, ''), 'base64')\n  } else {\n    var suite = 'aes' + match[1]\n    var iv = new Buffer(match[2], 'hex')\n    var cipherText = new Buffer(match[3].replace(/[\\r\\n]/g, ''), 'base64')\n    var cipherKey = evp(password, iv.slice(0, 8), parseInt(match[1], 10)).key\n    var out = []\n    var cipher = ciphers.createDecipheriv(suite, cipherKey, iv)\n    out.push(cipher.update(cipherText))\n    out.push(cipher.final())\n    decrypted = Buffer.concat(out)\n  }\n  var tag = key.match(startRegex)[1]\n  return {\n    tag: tag,\n    data: decrypted\n  }\n}\n","map":{"mappings":[{"source":"node_modules/parse-asn1/fixProc.js","original":{"line":1,"column":0},"generated":{"line":2,"column":0}},{"source":"node_modules/parse-asn1/fixProc.js","original":{"line":2,"column":0},"generated":{"line":3,"column":0}},{"source":"node_modules/parse-asn1/fixProc.js","original":{"line":3,"column":0},"generated":{"line":4,"column":0}},{"source":"node_modules/parse-asn1/fixProc.js","original":{"line":4,"column":0},"generated":{"line":5,"column":0}},{"source":"node_modules/parse-asn1/fixProc.js","original":{"line":5,"column":0},"generated":{"line":6,"column":0}},{"source":"node_modules/parse-asn1/fixProc.js","original":{"line":6,"column":0},"generated":{"line":7,"column":0}},{"source":"node_modules/parse-asn1/fixProc.js","original":{"line":7,"column":0},"generated":{"line":8,"column":0}},{"source":"node_modules/parse-asn1/fixProc.js","original":{"line":8,"column":0},"generated":{"line":9,"column":0}},{"source":"node_modules/parse-asn1/fixProc.js","original":{"line":9,"column":0},"generated":{"line":10,"column":0}},{"source":"node_modules/parse-asn1/fixProc.js","original":{"line":10,"column":0},"generated":{"line":11,"column":0}},{"source":"node_modules/parse-asn1/fixProc.js","original":{"line":11,"column":0},"generated":{"line":12,"column":0}},{"source":"node_modules/parse-asn1/fixProc.js","original":{"line":12,"column":0},"generated":{"line":13,"column":0}},{"source":"node_modules/parse-asn1/fixProc.js","original":{"line":13,"column":0},"generated":{"line":14,"column":0}},{"source":"node_modules/parse-asn1/fixProc.js","original":{"line":14,"column":0},"generated":{"line":15,"column":0}},{"source":"node_modules/parse-asn1/fixProc.js","original":{"line":15,"column":0},"generated":{"line":16,"column":0}},{"source":"node_modules/parse-asn1/fixProc.js","original":{"line":16,"column":0},"generated":{"line":17,"column":0}},{"source":"node_modules/parse-asn1/fixProc.js","original":{"line":17,"column":0},"generated":{"line":18,"column":0}},{"source":"node_modules/parse-asn1/fixProc.js","original":{"line":18,"column":0},"generated":{"line":19,"column":0}},{"source":"node_modules/parse-asn1/fixProc.js","original":{"line":19,"column":0},"generated":{"line":20,"column":0}},{"source":"node_modules/parse-asn1/fixProc.js","original":{"line":20,"column":0},"generated":{"line":21,"column":0}},{"source":"node_modules/parse-asn1/fixProc.js","original":{"line":21,"column":0},"generated":{"line":22,"column":0}},{"source":"node_modules/parse-asn1/fixProc.js","original":{"line":22,"column":0},"generated":{"line":23,"column":0}},{"source":"node_modules/parse-asn1/fixProc.js","original":{"line":23,"column":0},"generated":{"line":24,"column":0}},{"source":"node_modules/parse-asn1/fixProc.js","original":{"line":24,"column":0},"generated":{"line":25,"column":0}},{"source":"node_modules/parse-asn1/fixProc.js","original":{"line":25,"column":0},"generated":{"line":26,"column":0}},{"source":"node_modules/parse-asn1/fixProc.js","original":{"line":26,"column":0},"generated":{"line":27,"column":0}},{"source":"node_modules/parse-asn1/fixProc.js","original":{"line":27,"column":0},"generated":{"line":28,"column":0}},{"source":"node_modules/parse-asn1/fixProc.js","original":{"line":28,"column":0},"generated":{"line":29,"column":0}},{"source":"node_modules/parse-asn1/fixProc.js","original":{"line":29,"column":0},"generated":{"line":30,"column":0}},{"source":"node_modules/parse-asn1/fixProc.js","original":{"line":30,"column":0},"generated":{"line":31,"column":0}},{"source":"node_modules/parse-asn1/fixProc.js","original":{"line":31,"column":0},"generated":{"line":32,"column":0}}],"sources":{"node_modules/parse-asn1/fixProc.js":"// adapted from https://github.com/apatil/pemstrip\nvar findProc = /Proc-Type: 4,ENCRYPTED[\\n\\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\\n\\r]+([0-9A-z\\n\\r\\+\\/\\=]+)[\\n\\r]+/m\nvar startRegex = /^-----BEGIN ((?:.* KEY)|CERTIFICATE)-----/m\nvar fullRegex = /^-----BEGIN ((?:.* KEY)|CERTIFICATE)-----([0-9A-z\\n\\r\\+\\/\\=]+)-----END \\1-----$/m\nvar evp = require('evp_bytestokey')\nvar ciphers = require('browserify-aes')\nmodule.exports = function (okey, password) {\n  var key = okey.toString()\n  var match = key.match(findProc)\n  var decrypted\n  if (!match) {\n    var match2 = key.match(fullRegex)\n    decrypted = new Buffer(match2[2].replace(/[\\r\\n]/g, ''), 'base64')\n  } else {\n    var suite = 'aes' + match[1]\n    var iv = new Buffer(match[2], 'hex')\n    var cipherText = new Buffer(match[3].replace(/[\\r\\n]/g, ''), 'base64')\n    var cipherKey = evp(password, iv.slice(0, 8), parseInt(match[1], 10)).key\n    var out = []\n    var cipher = ciphers.createDecipheriv(suite, cipherKey, iv)\n    out.push(cipher.update(cipherText))\n    out.push(cipher.final())\n    decrypted = Buffer.concat(out)\n  }\n  var tag = key.match(startRegex)[1]\n  return {\n    tag: tag,\n    data: decrypted\n  }\n}\n"},"lineCount":32}},"hash":"20fa1a7b67fc29ced0cc862e6549a074","cacheData":{"env":{}}}